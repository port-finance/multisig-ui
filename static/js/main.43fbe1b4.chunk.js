(this["webpackJsonpmultisig-ui"]=this["webpackJsonpmultisig-ui"]||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var r=n(16),c=n(0),i=n.n(c);var a=n(5),o=(new a.PublicKey("So11111111111111111111111111111111111111112"),new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),[{name:"mainnet-beta"},{name:"testnet"},{name:"devnet"},{name:"localnet"}]),s=n(184),u=n(3),l=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com/",chainID:s.a.MainnetBeta},{name:"testnet",endpoint:Object(a.clusterApiUrl)("testnet"),chainID:s.a.Testnet},{name:"devnet",endpoint:Object(a.clusterApiUrl)("devnet"),chainID:s.a.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",chainID:s.a.Devnet}],d=l[0].endpoint,j=i.a.createContext({endpoint:d,setEndpoint:function(){},connection:new a.Connection(d,"recent"),sendConnection:new a.Connection(d,"recent"),env:l[0].name});function b(e){var t,n=e.children,i=void 0===n?void 0:n,s=function(e,t){var n=Object(c.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),i=Object(r.a)(n,2),a=i[0],o=i[1],s=Object(c.useCallback)((function(t){a!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[a,e]);return[a,s]}("connectionEndpts",l[0].endpoint),d=Object(r.a)(s,2),b=d[0],f=d[1],p=Object(c.useMemo)((function(){return new a.Connection(b,"recent")}),[b]),x=Object(c.useMemo)((function(){return new a.Connection(b,"recent")}),[b]),g=(l.find((function(e){return e.endpoint===b}))||l[0]).name;return t=g,o.find((function(e){return e.name===t})),Object(c.useEffect)((function(){var e=p.onAccountChange((new a.Keypair).publicKey,(function(){}));return function(){p.removeAccountChangeListener(e)}}),[p]),Object(c.useEffect)((function(){var e=p.onSlotChange((function(){return null}));return function(){p.removeSlotChangeListener(e)}}),[p]),Object(c.useEffect)((function(){var e=x.onAccountChange((new a.Keypair).publicKey,(function(){}));return function(){x.removeAccountChangeListener(e)}}),[x]),Object(c.useEffect)((function(){var e=x.onSlotChange((function(){return null}));return function(){x.removeSlotChangeListener(e)}}),[x]),Object(u.jsx)(j.Provider,{value:{endpoint:b,setEndpoint:f,connection:p,sendConnection:x,env:g},children:i})}function f(){return Object(c.useContext)(j).connection}function p(){var e=Object(c.useContext)(j);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env}}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1),n(7),n(0);var r=n(85),c=n(101),i=n(3);function a(e){var t=e.signature,n=Object(c.d)().env,a="?cluster=".concat(n.toString());return Object(i.jsx)(r.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t)+a,children:"View on Solana Explorer"})}},178:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ke})),n.d(t,"b",(function(){return He}));var r=n(28),c=n(25),i=n(1),a=n.n(i),o=n(7),s=n(16),u=n(0),l=n(38),d=n(93),j=n(409),b=n(438),f=n(689),p=n(290),x=n.n(p),g=n(292),h=n.n(g),O=n(299),m=n(291),y=n.n(m),v=n(419),S=n.n(v),w=n(422),C=n.n(w),k=n(420),T=n.n(k),A=n(159),K=n(690),P=n(418),I=n.n(P),E=n(234),M=n(235),R=n(236),B=n(57),_=n(119),W=n(293),D=n.n(W),N=n(443),q=n(439),L=n(72),F=n(232),U=n(103),Y=n.n(U),z=n(104),G=n.n(z),V=n(233),X=n(86),J=n(185),Q=n(85),H=n(301),Z=n(441),$=n(303),ee=n(300),te=n(440),ne=n(181),re=n.n(ne),ce=n(437),ie=n(160),ae=n(118),oe=n(61),se=n(421),ue=n.n(se),le=n(40),de=n.n(le),je=n(5),be=n(129),fe=n(231),pe=n(78),xe=n(54),ge=n(442),he=n(128),Oe=n(416),me=n(691),ye=n(694),ve=n(693),Se=n(688),we=n(280),Ce=n(3);function ke(e){var t=e.multisig;return Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(b.a,{fixed:!0,maxWidth:"md",children:Object(Ce.jsx)("div",{style:{position:"fixed",bottom:"75px",right:"75px",display:"flex",flexDirection:"row-reverse"},children:Object(Ce.jsx)(Te,{})})}),t&&Object(Ce.jsx)(Ae,{multisig:t})]})}function Te(){var e=Object(u.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(Ce.jsxs)("div",{style:{display:"flex"},children:[Object(Ce.jsx)(J.a,{style:{border:"solid 1pt #ccc",width:"60px",height:"60px",borderRadius:"30px"},onClick:function(){return r(!0)},children:Object(Ce.jsx)(re.a,{})}),Object(Ce.jsx)(Ke,{open:n,onClose:function(){return r(!1)}})]})}function Ae(e){var t=e.multisig,n=Object(pe.a)(),r=Object(u.useState)(void 0),c=Object(s.a)(r,2),i=c[0],a=c[1],o=Object(u.useState)(null),l=Object(s.a)(o,2),d=l[0],j=l[1],p=Object(u.useState)(!1),x=Object(s.a)(p,2),g=x[0],h=x[1],m=Object(u.useState)(!1),y=Object(s.a)(m,2),v=y[0],S=y[1],w=Object(u.useState)(!1),C=Object(s.a)(w,2),k=C[0],T=C[1];return Object(u.useEffect)((function(){n.account.multisig.fetch(t).then((function(e){a(e)})).catch((function(e){console.error(e),a(null)}))}),[t,n.account]),Object(u.useEffect)((function(){n.account.transaction.all(t.toBuffer()).then((function(e){j(e)}))}),[n.account.transaction,t,k]),Object(u.useEffect)((function(){n.account.multisig.subscribe(t).on("change",(function(e){a(e)}))}),[n,t]),Object(Ce.jsxs)(b.a,{fixed:!0,maxWidth:"md",style:{marginBottom:"16px"},children:[Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(F.a,{style:{marginTop:"24px"},children:void 0===i?Object(Ce.jsx)("div",{style:{padding:"16px"},children:Object(Ce.jsx)(q.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):null===i?Object(Ce.jsx)(V.a,{children:Object(Ce.jsx)(L.a,{color:"textSecondary",style:{padding:"24px",textAlign:"center"},children:"Multisig not found"})}):Object(Ce.jsx)(Ce.Fragment,{})}),i&&Object(Ce.jsxs)(O.a,{children:[Object(Ce.jsx)(f.a,{style:{marginTop:"24px"},position:"static",color:"default",elevation:1,children:Object(Ce.jsxs)(K.a,{children:[Object(Ce.jsxs)(L.a,{variant:"h6",style:{flexGrow:1},component:"h2",children:[t.toString()," | ",i.threshold.toString()," ","of ",i.owners.length.toString()," Multisig"]}),Object(Ce.jsx)(N.a,{title:"Signer",arrow:!0,children:Object(Ce.jsx)(J.a,{onClick:function(){return h(!0)},children:Object(Ce.jsx)(I.a,{})})}),Object(Ce.jsx)(N.a,{title:"Add",arrow:!0,children:Object(Ce.jsx)(J.a,{onClick:function(){return S(!0)},children:Object(Ce.jsx)(re.a,{})})})]})}),Object(Ce.jsx)(ce.a,{disablePadding:!0,children:null===d?Object(Ce.jsx)("div",{style:{padding:"16px"},children:Object(Ce.jsx)(q.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):0===d.length?Object(Ce.jsx)(ae.a,{children:Object(Ce.jsx)(oe.a,{primary:"No transactions found"})}):d.map((function(e){return Object(Ce.jsx)(Pe,{multisig:t,multisigAccount:i,tx:e},e.publicKey.toString())}))})]})]}),Object(Ce.jsx)(Re,{multisig:t,open:v,onClose:function(){return S(!1)},didAddTransaction:function(){return T(!k)}}),i&&Object(Ce.jsx)(Me,{multisig:t,multisigAccount:i,open:g,onClose:function(){return h(!1)}},n.provider.wallet.publicKey.toString())]})}function Ke(e){var t=e.open,n=e.onClose,r=Object(l.e)(),i=Object(pe.a)(),j=Object(d.b)().enqueueSnackbar,b=Object(u.useState)(2),f=Object(s.a)(b,2),p=f[0],x=f[1],g=new je.PublicKey("11111111111111111111111111111111").toString(),h=Object(u.useState)([g]),O=Object(s.a)(h,2),m=O[0],y=O[1],v=function(){n(),x(2),y([g,g])},S=Object(u.useState)(10),w=Object(s.a)(S,2),C=w[0],k=w[1],T=C<m.length,A=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,o,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j("Creating multisig",{variant:"info"}),t=new je.Account,21,64,n=21+(32*C+8)+64,e.next=8,je.PublicKey.findProgramAddress([t.publicKey.toBuffer()],i.programId);case 8:return c=e.sent,o=Object(s.a)(c,2),u=o[1],l=m.map((function(e){return new je.PublicKey(e)})),e.t0=i.rpc,e.t1=l,e.t2=new de.a(p),e.t3=u,e.t4={multisig:t.publicKey,rent:je.SYSVAR_RENT_PUBKEY},e.t5=[t],e.next=20,i.account.multisig.createInstruction(t,n);case 20:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=25,e.t0.createMultisig.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 25:d=e.sent,j("Multisig created: ".concat(t.publicKey.toString()),{variant:"success",action:Object(Ce.jsx)(be.a,{signature:d})}),v(),r.push("/".concat(t.publicKey.toString()));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ce.jsxs)($.a,{fullWidth:!0,open:t,onClose:v,maxWidth:"md",children:[Object(Ce.jsx)(ee.a,{children:Object(Ce.jsx)(L.a,{variant:"h4",component:"h2",children:"New Multisig"})}),Object(Ce.jsxs)(H.a,{children:[Object(Ce.jsx)(X.a,{fullWidth:!0,label:"Threshold",value:p,type:"number",onChange:function(e){return x(parseInt(e.target.value))}}),Object(Ce.jsx)(X.a,{fullWidth:!0,label:"Max Number of Participants (cannot grow the owner set past this)",value:C,type:"number",onChange:function(e){return k(parseInt(e.target.value))}}),m.map((function(e,t){return Object(Ce.jsx)(X.a,{fullWidth:!0,label:"Participant",value:e,onChange:function(e){var n=Object(c.a)(m);n[t]=e.target.value,y(n)}},e)})),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(Ce.jsx)(J.a,{onClick:function(){var e=Object(c.a)(m);e.push(new je.PublicKey("11111111111111111111111111111111").toString()),y(e)},children:Object(Ce.jsx)(re.a,{})})})]}),Object(Ce.jsxs)(te.a,{children:[Object(Ce.jsx)(Q.a,{onClick:v,children:"Cancel"}),Object(Ce.jsx)(Q.a,{disabled:T,variant:"contained",type:"submit",color:"primary",onClick:function(){return A().catch((function(e){var t=e?e.toString():"";j("Error creating multisig: ".concat(t),{variant:"error"})}))},children:"Create"})]})]})}function Pe(e){var t=e.multisig,n=e.multisigAccount,c=e.tx,i=Object(d.b)().enqueueSnackbar,l=Object(pe.a)(),b=Object(u.useState)(!1),f=Object(s.a)(b,2),p=f[0],x=f[1],g=Object(u.useState)(c.account),h=Object(s.a)(g,2),O=h[0],m=h[1];Object(u.useEffect)((function(){l.account.transaction.subscribe(c.publicKey).on("change",(function(e){m(e)}))}),[l,t,c.publicKey]);var y=[{field:"Program ID",value:O.programId.toString()},{field:"Did execute",value:O.didExecute.toString()},{field:"Instruction data",value:Object(Ce.jsx)("code",{style:{wordBreak:"break-word",width:"370px",background:"black",color:"#ffffff",float:"right",textAlign:"left"},children:Object(j.a)(O.data)})},{field:"Multisig",value:O.multisig.toString()},{field:"Transaction account",value:c.publicKey.toString()},{field:"Owner set seqno",value:O.ownerSetSeqno.toString()}],v=n.owners.map((function(e,t){return{field:e.toString(),value:O.signers[t]?Object(Ce.jsx)(S.a,{}):Object(Ce.jsx)(T.a,{})}})),w=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("Approving transaction",{variant:"info"}),e.next=3,l.rpc.approve({accounts:{multisig:t,transaction:c.publicKey,owner:l.provider.wallet.publicKey}});case 3:i("Transaction approved",{variant:"success"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(a.a.mark((function e(){var n,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("Executing transaction",{variant:"info"}),e.next=3,je.PublicKey.findProgramAddress([t.toBuffer()],l.programId);case 3:return n=e.sent,o=Object(s.a)(n,1),u=o[0],e.next=8,l.rpc.executeTransaction({accounts:{multisig:t,multisigSigner:u,transaction:c.publicKey},remainingAccounts:O.accounts.map((function(e){return e.pubkey.equals(u)?Object(r.a)(Object(r.a)({},e),{},{isSigner:!1}):e})).concat({pubkey:O.programId,isWritable:!1,isSigner:!1})});case 8:i("Transaction executed",{variant:"success"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return x(!p)},children:[Object(Ce.jsx)(ie.a,{children:Ge(c,l)}),Ie(c,l),O.didExecute&&Object(Ce.jsx)(ue.a,{style:{marginRight:"16px"}}),p?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]},c.publicKey.toString()),Object(Ce.jsx)(A.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsxs)("div",{style:{background:"#ececec",padding:"10px"},children:[Object(Ce.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(Ce.jsx)(Q.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){return w().catch((function(e){var t="";e&&(t=e.toString()),i("Unable to approve transaction: ".concat(t),{variant:"error"})}))},children:"Approve"}),Object(Ce.jsx)(Q.a,{variant:"contained",color:"secondary",onClick:function(){return C().catch((function(e){var t="";e&&(t=e.toString()),i("Unable to execute transaction: ".concat(t),{variant:"error"})}))},children:"Execute"})]}),Object(Ce.jsx)(F.a,{style:{marginTop:"16px"},children:Object(Ce.jsx)(V.a,{children:Object(Ce.jsxs)(E.a,{children:[Object(Ce.jsx)(M.a,{children:Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:"Transaction Field"}),Object(Ce.jsx)(B.a,{align:"right",children:"Value"})]})}),Object(Ce.jsx)(R.a,{children:y.map((function(e){return Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:e.field},e.field),Object(Ce.jsx)(B.a,{align:"right",children:e.value},"".concat(e.field,"-value"))]})}))})]})})}),Object(Ce.jsx)(F.a,{style:{marginTop:"16px"},children:Object(Ce.jsxs)(V.a,{children:[Object(Ce.jsxs)(E.a,{children:[Object(Ce.jsx)(M.a,{children:Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:"Multisig Owner"}),Object(Ce.jsx)(B.a,{align:"right",children:"Did Sign"})]})}),Object(Ce.jsx)(R.a,{children:O.ownerSetSeqno===n.ownerSetSeqno&&v.map((function(e){return Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:e.field}),Object(Ce.jsx)(B.a,{align:"right",children:e.value})]})}))})]}),O.ownerSetSeqno!==n.ownerSetSeqno&&Object(Ce.jsx)("div",{style:{marginTop:"16px"},children:Object(Ce.jsx)(L.a,{color:"textSecondary",style:{textAlign:"center"},children:"The owner set has changed since this transaction was created"})})]})}),Object(Ce.jsx)(F.a,{style:{marginTop:"16px"},children:Object(Ce.jsx)(V.a,{children:Object(Ce.jsx)(Ee,{accounts:O.accounts})})})]})})]})}function Ie(t,n){if(t.account.programId.equals(Fe)&&t.account.data.equals(e.from([3,0,0,0])))return Object(Ce.jsx)(oe.a,{primary:"Program upgrade",secondary:t.publicKey.toString()});if(t.account.programId.equals(n.programId)){if(n.coder.sighash("global","change_threshold").equals(t.account.data.slice(0,8)))return Object(Ce.jsx)(oe.a,{primary:"Set threshold",secondary:t.publicKey.toString()});if(n.coder.sighash("global","set_owners").equals(t.account.data.slice(0,8)))return Object(Ce.jsx)(oe.a,{primary:"Set owners",secondary:t.publicKey.toString()})}if(t.account.programId.equals(xe.TOKEN_PROGRAM_ID)){var r=t.account.data.slice(0,1),c=t.account.data.slice(1,9),i=xe.u64.fromBuffer(c);return e.from([3]).equals(r)?Object(Ce.jsx)(oe.a,{primary:"Transfer ".concat(i.toString()," Lamport Token"),secondary:t.publicKey.toString()}):e.from([4]).equals(r)?Object(Ce.jsx)(oe.a,{primary:"Approve Token",secondary:t.publicKey.toString()}):e.from([7]).equals(r)?Object(Ce.jsx)(oe.a,{primary:"Mint Token To",secondary:t.publicKey.toString()}):Object(Ce.jsx)(oe.a,{primary:"Token Instructions",secondary:t.publicKey.toString()})}return fe.a.equals(t.account.data.slice(0,8))?Object(Ce.jsx)(oe.a,{primary:"Upgrade IDL",secondary:t.publicKey.toString()}):Object(Ce.jsx)(oe.a,{primary:t.publicKey.toString()})}function Ee(e){var t=e.accounts;return Object(Ce.jsxs)(E.a,{children:[Object(Ce.jsx)(M.a,{children:Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:"Account"}),Object(Ce.jsx)(B.a,{align:"right",children:"Writable"}),Object(Ce.jsx)(B.a,{align:"right",children:"Signer"})]})}),Object(Ce.jsx)(R.a,{children:t.map((function(e){return Object(Ce.jsxs)(_.a,{children:[Object(Ce.jsx)(B.a,{children:e.pubkey.toString()}),Object(Ce.jsx)(B.a,{align:"right",children:e.isWritable.toString()}),Object(Ce.jsx)(B.a,{align:"right",children:e.isSigner.toString()})]})}))})]})}function Me(e){var t=e.multisig,n=e.multisigAccount,r=e.open,c=e.onClose,i=Object(pe.a)(),a=Object(u.useState)(null),o=Object(s.a)(a,2),l=o[0],d=o[1];return Object(u.useEffect)((function(){je.PublicKey.findProgramAddress([t.toBuffer()],i.programId).then((function(e){return d(e[0].toString())}))}),[t,i.programId,d,i]),Object(Ce.jsxs)($.a,{open:r,fullWidth:!0,onClose:c,maxWidth:"md",children:[Object(Ce.jsx)(ee.a,{children:Object(Ce.jsx)(L.a,{variant:"h4",component:"h2",children:"Multisig Info"})}),Object(Ce.jsxs)(H.a,{style:{paddingBottom:"16px"},children:[Object(Ce.jsxs)(Z.a,{children:[Object(Ce.jsx)("b",{children:"Program derived address"}),": ",l,". This is the address one should use as the authority for data governed by the multisig."]}),Object(Ce.jsxs)(E.a,{children:[Object(Ce.jsx)(M.a,{children:Object(Ce.jsx)(_.a,{children:Object(Ce.jsx)(B.a,{children:"Owners"})})}),Object(Ce.jsx)(R.a,{children:n.owners.map((function(e){return Object(Ce.jsx)(_.a,{children:Object(Ce.jsx)(B.a,{children:e.toString()})},e.toString())}))})]})]}),Object(Ce.jsx)(te.a,{children:Object(Ce.jsx)(Q.a,{onClick:c,children:"Close"})})]})}function Re(e){var t=e.multisig,n=e.open,r=e.onClose,c=e.didAddTransaction;return Object(Ce.jsxs)($.a,{open:n,fullWidth:!0,onClose:r,maxWidth:"md",children:[Object(Ce.jsx)(ee.a,{children:Object(Ce.jsx)(L.a,{variant:"h4",component:"h2",children:"New Transaction"})}),Object(Ce.jsxs)(H.a,{style:{paddingBottom:"16px"},children:[Object(Ce.jsx)(Z.a,{children:"Create a new transaction to be signed by the multisig. This transaction will not execute until enough owners have signed the transaction."}),Object(Ce.jsxs)(ce.a,{disablePadding:!0,children:[Object(Ce.jsx)(Le,{didAddTransaction:c,multisig:t,onClose:r}),Object(Ce.jsx)(Ne,{didAddTransaction:c,multisig:t,onClose:r}),Object(Ce.jsx)(We,{didAddTransaction:c,multisig:t,onClose:r}),Object(Ce.jsx)(Be,{didAddTransaction:c,multisig:t,onClose:r}),Object(Ce.jsx)(Ye,{didAddTransaction:c,multisig:t,onClose:r})]})]})]})}function Be(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return o((function(e){return!e}))},children:[Object(Ce.jsx)(ie.a,{children:Object(Ce.jsx)(x.a,{})}),Object(Ce.jsx)(oe.a,{primary:"Change threshold"}),a?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]}),Object(Ce.jsx)(A.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsx)(_e,{didAddTransaction:r,multisig:t,onClose:n})})]})}function _e(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(2),i=Object(s.a)(c,2),l=i[0],j=i[1],b=Object(pe.a)(),f=Object(d.b)().enqueueSnackbar,p=function(){var e=Object(o.a)(a.a.mark((function e(){var c,i,o,u,d,j,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("Creating change threshold transaction",{variant:"info"}),c=Ve(b,l),e.next=4,je.PublicKey.findProgramAddress([t.toBuffer()],b.programId);case 4:return i=e.sent,o=Object(s.a)(i,1),u=o[0],d=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!1,isSigner:!0}],j=new je.Account,1e3,e.t0=b.rpc,e.t1=b.programId,e.t2=d,e.t3=c,e.t4={multisig:t,transaction:j.publicKey,proposer:b.provider.wallet.publicKey,rent:je.SYSVAR_RENT_PUBKEY},e.t5=[j],e.next=18,b.account.transaction.createInstruction(j,1e3);case 18:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=23,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 23:p=e.sent,f("Transaction created",{variant:"success",action:Object(Ce.jsx)(be.a,{signature:p})}),r(j.publicKey),n();case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ce.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(Ce.jsx)(X.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Threshold",value:l,type:"number",onChange:function(e){j(e.target.value)}}),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(Ce.jsx)(Q.a,{onClick:function(){return p()},children:"Change Threshold"})})]})}function We(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return o((function(e){return!e}))},children:[Object(Ce.jsx)(ie.a,{children:Object(Ce.jsx)(y.a,{})}),Object(Ce.jsx)(oe.a,{primary:"Set owners"}),a?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]}),Object(Ce.jsx)(A.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsx)(De,{didAddTransaction:r,multisig:t,onClose:n})})]})}function De(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,i=Object(pe.a)(),l=new je.PublicKey("11111111111111111111111111111111").toString(),j=Object(u.useState)([l]),b=Object(s.a)(j,2),f=b[0],p=b[1],x=Object(d.b)().enqueueSnackbar,g=function(){var e=Object(o.a)(a.a.mark((function e(){var c,o,u,l,d,j,b,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("Creating setOwners transaction",{variant:"info"}),c=f.map((function(e){return new je.PublicKey(e)})),o=Xe(i,c),e.next=5,je.PublicKey.findProgramAddress([t.toBuffer()],i.programId);case 5:return u=e.sent,l=Object(s.a)(u,1),d=l[0],j=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!0}],b=new je.Account,5e3,e.t0=i.rpc,e.t1=i.programId,e.t2=j,e.t3=o,e.t4={multisig:t,transaction:b.publicKey,proposer:i.provider.wallet.publicKey,rent:je.SYSVAR_RENT_PUBKEY},e.t5=[b],e.next=19,i.account.transaction.createInstruction(b,5e3);case 19:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=24,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 24:if(p=e.sent){e.next=27;break}return e.abrupt("return");case 27:x("Transaction created",{variant:"success",action:Object(Ce.jsx)(be.a,{signature:p})}),r(b.publicKey),n();case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ce.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[f.map((function(e,t){return Object(Ce.jsx)(X.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Participant",value:e,onChange:function(e){var n=Object(c.a)(f);n[t]=e.target.value,p(n)}})})),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(Ce.jsx)(J.a,{onClick:function(){var e=Object(c.a)(f);e.push(new je.PublicKey("11111111111111111111111111111111").toString()),p(e)},children:Object(Ce.jsx)(re.a,{})})}),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(Ce.jsx)(Q.a,{onClick:function(){return g()},children:"Set Owners"})})]})}function Ne(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return o((function(e){return!e}))},children:[Object(Ce.jsx)(ie.a,{children:Object(Ce.jsx)(h.a,{})}),Object(Ce.jsx)(oe.a,{primary:"Upgrade IDL"}),a?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]}),Object(Ce.jsx)(A.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsx)(qe,{didAddTransaction:r,multisig:t,onClose:n})})]})}function qe(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(null),i=Object(s.a)(c,2),l=i[0],j=i[1],b=Object(u.useState)(null),f=Object(s.a)(b,2),p=f[0],x=f[1],g=Object(pe.a)(),h=Object(d.b)().enqueueSnackbar,O=function(){var e=Object(o.a)(a.a.mark((function e(){var c,i,o,u,d,j,b,f,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h("Creating transaction",{variant:"info"}),c=new je.PublicKey(l),i=new je.PublicKey(p),e.next=5,Je(c);case 5:return o=e.sent,e.next=8,je.PublicKey.findProgramAddress([t.toBuffer()],g.programId);case 8:return u=e.sent,d=Object(s.a)(u,1),j=d[0],b=fe.b({setBuffer:{}}),f=[{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:o,isWritable:!0,isSigner:!1},{pubkey:j,isWritable:!0,isSigner:!1}],1e3,x=new je.Account,e.t0=g.rpc,e.t1=c,e.t2=f,e.t3=b,e.t4={multisig:t,transaction:x.publicKey,proposer:g.provider.wallet.publicKey,rent:je.SYSVAR_RENT_PUBKEY},e.t5=[x],e.next=23,g.account.transaction.createInstruction(x,1e3);case 23:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=28,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 28:O=e.sent,h("Transaction created",{variant:"success",action:Object(Ce.jsx)(be.a,{signature:O})}),r(x.publicKey),n();case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ce.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(Ce.jsx)(X.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:l,onChange:function(e){return j(e.target.value)}}),Object(Ce.jsx)(X.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New IDL buffer",value:p,onChange:function(e){return x(e.target.value)}}),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(Ce.jsx)(Q.a,{onClick:function(){return O()},children:"Create upgrade"})})]})}function Le(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return o((function(e){return!e}))},children:[Object(Ce.jsx)(ie.a,{children:Object(Ce.jsx)(D.a,{})}),Object(Ce.jsx)(oe.a,{primary:"Upgrade program"}),a?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]}),Object(Ce.jsx)(A.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsx)(Ue,{didAddTransaction:r,multisig:t,onClose:n})})]})}var Fe=new je.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111");function Ue(t){var n=t.multisig,r=t.onClose,c=t.didAddTransaction,i=Object(u.useState)(null),l=Object(s.a)(i,2),j=l[0],b=l[1],f=Object(u.useState)(null),p=Object(s.a)(f,2),x=p[0],g=p[1],h=Object(pe.a)(),O=Object(d.b)().enqueueSnackbar,m=function(){var t=Object(o.a)(a.a.mark((function t(){var i,u,l,d,b,f,p,g,m,y,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O("Creating transaction",{variant:"info"}),i=new je.PublicKey(j),u=new je.PublicKey(x),l=e.from([3,0,0,0]),t.next=6,Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.provider.connection.getAccountInfo(i);case 2:if(null!==(t=e.sent)){e.next=5;break}throw new Error("Invalid program ID");case 5:return e.abrupt("return",{programdataAddress:new je.PublicKey(t.data.slice(4))});case 6:case"end":return e.stop()}}),e)})))();case 6:return d=t.sent,b=h.provider.wallet.publicKey,t.next=10,je.PublicKey.findProgramAddress([n.toBuffer()],h.programId);case 10:return f=t.sent,p=Object(s.a)(f,1),g=p[0],m=[{pubkey:d.programdataAddress,isWritable:!0,isSigner:!1},{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1},{pubkey:je.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:je.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!1}],1e3,y=new je.Account,t.t0=h.rpc,t.t1=Fe,t.t2=m,t.t3=l,t.t4={multisig:n,transaction:y.publicKey,proposer:h.provider.wallet.publicKey,rent:je.SYSVAR_RENT_PUBKEY},t.t5=[y],t.next=24,h.account.transaction.createInstruction(y,1e3);case 24:return t.t6=t.sent,t.t7=[t.t6],t.t8={accounts:t.t4,signers:t.t5,instructions:t.t7},t.next=29,t.t0.createTransaction.call(t.t0,t.t1,t.t2,t.t3,t.t8);case 29:v=t.sent,O("Transaction created",{variant:"success",action:Object(Ce.jsx)(be.a,{signature:v})}),c(y.publicKey),r();case 33:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Ce.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(Ce.jsx)(X.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:j,onChange:function(e){return b(e.target.value)}}),Object(Ce.jsx)(X.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New program buffer",value:x,onChange:function(e){return g(e.target.value)}}),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(Ce.jsx)(Q.a,{onClick:function(){return m()},children:"Create upgrade"})})]})}function Ye(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(u.useState)(!1),i=Object(s.a)(c,2),a=i[0],o=i[1];return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(ae.a,{button:!0,onClick:function(){return o((function(e){return!e}))},children:[Object(Ce.jsx)(ie.a,{children:Object(Ce.jsx)(ge.a,{})}),Object(Ce.jsx)(oe.a,{primary:"Transfer Token"}),a?Object(Ce.jsx)(Y.a,{}):Object(Ce.jsx)(G.a,{})]}),Object(Ce.jsx)(A.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsx)(ze,{didAddTransaction:r,multisig:t,onClose:n})})]})}function ze(t){var n=t.multisig,r=t.onClose,c=t.didAddTransaction,i=Object(u.useState)(null),l=Object(s.a)(i,2),j=l[0],b=l[1],f=Object(u.useState)(null),p=Object(s.a)(f,2),x=p[0],g=p[1],h=Object(u.useState)(null),O=Object(s.a)(h,2),m=O[0],y=O[1],v=Object(pe.a)(),S=Object(d.b)().enqueueSnackbar,w=Object(Oe.a)(v.provider,n,v.programId),C=function(){var t=Object(o.a)(a.a.mark((function t(){var i,o,u,l,d,b,f,p,g,h,O,y,w,C,k;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S("Creating transaction",{variant:"info"}),i=new je.PublicKey(j),o=new je.PublicKey(x),t.next=5,je.PublicKey.findProgramAddress([n.toBuffer()],v.programId);case 5:return u=t.sent,l=Object(s.a)(u,1),d=l[0],t.next=10,Object(he.getTokenAccount)(v.provider,i);case 10:return b=t.sent,t.next=13,v.provider.connection.getAccountInfo(o);case 13:if(null!==(f=t.sent)&&f.owner.toString()===xe.TOKEN_PROGRAM_ID.toString()&&f.data.length===we.ACCOUNT_LAYOUT.span){t.next=18;break}return S("Not token account",{variant:"error"}),t.abrupt("return");case 18:return t.next=20,Object(he.getTokenAccount)(v.provider,o);case 20:if(p=t.sent,b.mint.toBase58()===p.mint.toBase58()){t.next=24;break}return S("Token mint does not match",{variant:"error"}),t.abrupt("return");case 24:return t.next=26,Object(he.getMintInfo)(v.provider,b.mint);case 26:if(g=t.sent,m){t.next=30;break}return S("No amount provided",{variant:"warning"}),t.abrupt("return");case 30:return h=new xe.u64(10),O=h.pow(new de.a(g.decimals)),y=m.mul(O),w=xe.Token.createTransferInstruction(xe.TOKEN_PROGRAM_ID,i,o,d,[],new xe.u64(y.toString())),C=new je.Account,t.t0=v.rpc,t.t1=xe.TOKEN_PROGRAM_ID,t.t2=w.keys,t.t3=e.from(w.data),t.t4={multisig:n,transaction:C.publicKey,proposer:v.provider.wallet.publicKey,rent:je.SYSVAR_RENT_PUBKEY},t.t5=[C],t.next=43,v.account.transaction.createInstruction(C,1e3);case 43:return t.t6=t.sent,t.t7=[t.t6],t.t8={accounts:t.t4,signers:t.t5,instructions:t.t7},t.next=48,t.t0.createTransaction.call(t.t0,t.t1,t.t2,t.t3,t.t8);case 48:k=t.sent,S("Transaction created",{variant:"success",action:Object(Ce.jsx)(be.a,{signature:k})}),c(C.publicKey),r();case 52:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Ce.jsxs)("div",{style:{background:"#f1f0f0",paddingTop:"24px",paddingLeft:"24px",paddingRight:"24px"},children:[Object(Ce.jsxs)(me.a,{fullWidth:!0,children:[Object(Ce.jsx)(ye.a,{id:"source-select-label",children:"Source Token Account"}),Object(Ce.jsx)(ve.a,{autoWidth:!0,value:j,children:w.map((function(e){return Object(Ce.jsx)(Se.a,{value:e.address.toString(),onClick:function(){b(e.address.toString())},children:e.address.toString()})}))}),Object(Ce.jsx)(X.a,{style:{marginTop:"16px"},fullWidth:!0,label:"Amount",value:m,onChange:function(e){return y(new xe.u64(e.target.value))}}),Object(Ce.jsx)(X.a,{style:{marginTop:"16px"},fullWidth:!0,label:"Destination Address",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(Ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(Ce.jsx)(Q.a,{onClick:function(){return C()},children:"Create Token Transfer"})})]})}function Ge(e,t){if(e.account.programId.equals(Fe))return Object(Ce.jsx)(D.a,{});if(e.account.programId.equals(t.programId)){if(t.coder.sighash("global","change_threshold").equals(e.account.data.slice(0,8)))return Object(Ce.jsx)(x.a,{});if(t.coder.sighash("global","set_owners").equals(e.account.data.slice(0,8)))return Object(Ce.jsx)(y.a,{})}return e.account.programId.equals(xe.TOKEN_PROGRAM_ID)?Object(Ce.jsx)(ge.a,{}):fe.a.equals(e.account.data.slice(0,8))?Object(Ce.jsx)(h.a,{}):Object(Ce.jsx)(C.a,{})}function Ve(e,t){return e.coder.instruction.encode("change_threshold",{threshold:new de.a(t)})}function Xe(e,t){return e.coder.instruction.encode("set_owners",{owners:t})}function Je(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.PublicKey.findProgramAddress([],t);case 2:return n=e.sent[0],e.next=5,je.PublicKey.createWithSeed(n,"anchor:idl",t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProgramAccounts(xe.TOKEN_PROGRAM_ID,{filters:[{memcmp:{offset:32,bytes:n.toBase58()}},{dataSize:xe.AccountLayout.span}]});case 2:return r=e.sent,e.abrupt("return",r.map((function(e){var t=Object(he.parseTokenAccount)(e.account.data);return t.address=e.pubkey,t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(14).Buffer)},231:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(9),c=n(410),i=Object(c.rustEnum)([Object(r.struct)([],"create"),Object(r.struct)([],"createBuffer"),Object(r.struct)([],"write"),Object(r.struct)([],"setBuffer"),Object(r.struct)([],"setAuthority")]);function a(t){var n=e.alloc(1e3),r=i.encode(t,n);return e.concat([o,n.slice(0,r)])}var o=e.from("0a69e9a778bcf440","hex").reverse()}).call(this,n(14).Buffer)},416:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),c=n.n(r),i=n(7),a=n(16),o=n(5),s=n(0),u=n(178);function l(e,t,n){var r=Object(s.useState)([]),l=Object(a.a)(r,2),d=l[0],j=l[1];return Object(s.useEffect)((function(){var r=e.connection;return function(){var e=Object(i.a)(c.a.mark((function e(){var i,s,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([t.toBuffer()],n);case 2:return i=e.sent,s=Object(a.a)(i,2),l=s[0],s[1],e.next=8,Object(u.b)(r,l);case 8:return d=e.sent,j(d),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log("Fetched ".concat(e.length," accounts for multisig ").concat(t,"."))})).catch((function(){console.error("Connection Failed","Failed to fetch token accounts owned by ".concat(t))})),function(){j([])}}),[e]),d}},463:function(e,t,n){},467:function(e,t){},469:function(e,t){},493:function(e,t){},494:function(e,t){},527:function(e,t){},541:function(e,t){},543:function(e,t){},567:function(e,t,n){},570:function(e,t){},572:function(e,t){},600:function(e,t){},602:function(e,t){},607:function(e,t){},609:function(e,t){},615:function(e,t){},617:function(e,t){},629:function(e,t){},632:function(e,t){},636:function(e,t){},638:function(e,t){},647:function(e,t){},649:function(e,t){},658:function(e,t){},659:function(e,t){},686:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(35),a=n.n(i),o=(n(463),n(38)),s=n(281),u=n(93),l=n(762),d=n(763),j=n(759),b=n(5),f=n(16),p=n(72),x=n(85),g=n(689),h=n(690),O=n(433),m=n(756),y=n(688),v=n(185),S=n(408),w=n.n(S),C=n(407),k=n.n(C),T=n(755),A=n(223),K=n.n(A),P=n(180),I=n(101),E=n(3);function M(){var e=Object(T.a)(),t=Object(o.e)(),n=Object(r.useState)(""),c=Object(f.a)(n,2),i=c[0],a=c[1],s=!function(e){try{return new b.PublicKey(e),!0}catch(t){return!1}}(i),u=function(){t.push("/".concat(i))};return Object(E.jsx)(g.a,{position:"static",style:{background:"#ffffff",color:"#272727",boxShadow:"none",borderBottom:"solid 1pt #ccc"},children:Object(E.jsx)(h.a,{children:Object(E.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(E.jsxs)("div",{style:{display:"flex",flex:1},children:[Object(E.jsx)(R,{label:"Multisig",hrefClient:"/"}),Object(E.jsxs)("div",{style:{marginLeft:"16px",marginRight:"16px",borderRadius:"25px",display:"flex",flex:1,backgroundColor:"rgb(245 245 245)"},children:[Object(E.jsx)("input",{style:{flex:1,background:"none",padding:"16px",border:"none",outlineWidth:0,color:"inherit"},placeholder:"Search a multisig address...",value:i,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&u()}}),Object(E.jsx)(v.a,{disabled:s,onClick:u,children:Object(E.jsx)(k.a,{})})]})]}),Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsx)(B,{}),Object(E.jsx)(P.c,{}),e&&Object(E.jsx)(P.b,{startIcon:Object(E.jsx)(K.a,{}),style:{marginLeft:8}})]})]})})})}function R(e){var t=Object(o.e)(),n=e.label,r=e.href,c=e.hrefClient;return Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(){return c&&t.push(c)},children:Object(E.jsx)(m.a,{style:{color:"inherit",textDecoration:"none"},href:r,target:"_blank",children:Object(E.jsx)(x.a,{color:"inherit",children:Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(E.jsx)(p.a,{style:{fontSize:"15px"},children:n})})})})})}function B(){var e=Object(r.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(I.d)(),a=i.env,o=i.setEndpoint,s=function(){c(null)};return Object(E.jsxs)("div",{style:{marginRight:"10px",fontSize:"15px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(E.jsxs)(x.a,{color:"inherit",onClick:function(e){return c(e.currentTarget)},children:[Object(E.jsx)(w.a,{}),Object(E.jsx)(p.a,{style:{marginLeft:"5px",fontSize:"15px"},children:a.toString()})]}),Object(E.jsx)(O.a,{anchorEl:n,open:Boolean(n),onClose:s,style:{marginLeft:"12px",color:"white"},children:I.b.map((function(e){return Object(E.jsx)(y.a,{onClick:function(){s(),o(e.endpoint)},children:Object(E.jsx)(p.a,{children:e.name})},e.name.toString())}))})]})}function _(){return Object(E.jsx)("div",{style:{zIndex:99,position:"fixed",width:"100%",bottom:0,textAlign:"center",height:"30px",backgroundColor:"#fbfbfb",borderTop:"solid 1pt #ccc",display:"flex",justifyContent:"space-between",paddingLeft:"10px",paddingRight:"10px"},children:Object(E.jsxs)("div",{style:{marginLeft:"auto",marginRight:"auto",display:"flex"},children:[Object(E.jsx)(W,{href:"https://github.com/project-serum/multisig",label:"Source"}),Object(E.jsx)(W,{href:"https://github.com/project-serum/awesome-serum",label:"Developer Resources"}),Object(E.jsx)(W,{href:"https://discord.com/channels/739225212658122886",label:"Discord"}),Object(E.jsx)(W,{href:"https://t.me/ProjectSerum",label:"Telegram"}),Object(E.jsx)(W,{href:"https://github.com/project-serum",label:"GitHub"}),Object(E.jsx)(W,{href:"https://solanabeach.io/",label:"Solana Network",isEnd:!0})]})})}function W(e){var t=e.label,n=e.href,r=e.isEnd;return Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:r?"":"15px"},children:Object(E.jsx)(m.a,{href:n,target:"_blank",color:"inherit",children:Object(E.jsx)(p.a,{style:{fontSize:"14px"},children:t})})})}function D(e){var t=Object(r.useState)(!1),n=Object(f.a)(t,2),c=n[0],i=n[1];return Object(E.jsxs)("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column",backgroundColor:"rgb(251, 251, 251)"},children:[Object(E.jsxs)("div",{style:{position:"fixed",width:"100%",zIndex:99},children:[Object(E.jsx)(N,{}),Object(E.jsx)(M,{})]}),Object(E.jsx)("div",{style:{width:"100%",marginTop:"94px",flex:1,display:"flex",marginBottom:"30px"},children:window.localStorage.getItem("consent")?Object(E.jsx)("div",{style:{width:"100%"},children:e.children}):Object(E.jsx)(q,{onConsent:function(){window.localStorage.setItem("consent","true"),i(!c)}})}),Object(E.jsx)(_,{})]})}function N(){return Object(E.jsx)("div",{style:{color:"#fff",backgroundColor:"rgb(39, 39, 39)",height:"30px",textAlign:"center"},children:Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},children:Object(E.jsx)(p.a,{style:{fontSize:"14px"},children:"Multisig is unaudited software. Use at your own risk."})})})}function q(e){var t=e.onConsent;return Object(E.jsxs)("div",{style:{flex:"1",display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[Object(E.jsx)("div",{style:{width:"100%",display:"flex"},children:Object(E.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(E.jsx)(p.a,{style:{marginBottom:"16px",maxWidth:"1000px"},color:"textSecondary",variant:"h4",children:"No statement or warranty is provided in relation to the utility of this program, the safety of its code or its suitability for your use, and by using it, you agree to bear any risk associated with such potential vulnerabilities, including, but not limited to the potential loss of tokens."})})}),Object(E.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(E.jsx)(x.a,{variant:"contained",color:"primary",onClick:t,children:"I agree"})})]})}var L=n(178),F=n(766),U=n(767),Y=n(768),z=n(769),G=n(770),V=n(771),X=n(772),J=n(765),Q=(n(567),n(1)),H=n.n(Q),Z=n(7),$=n(25),ee=n(54),te=n(8),ne=n(12),re=function(){function e(t,n){Object(te.a)(this,e),this.accounts=void 0,this.bySplAccountId=void 0,this.accounts=t,this.bySplAccountId=n}return Object(ne.a)(e,[{key:"isReady",value:function(){return this.accounts.length>0}},{key:"getAllTokenAccounts",value:function(){return this.accounts}},{key:"getSplAccount",value:function(e){var t=this.findSplAccount(e);if(!t)throw new Error("No account for ".concat(e));return t}},{key:"findSplAccount",value:function(e){var t=e.toString();return this.bySplAccountId.get(t)}},{key:"getSplAccountByMintId",value:function(e){var t=this.findSplAccountByMintId(e);if(!t)throw new Error("No account for mint ".concat(e));return t}},{key:"findSplAccountByMintId",value:function(e){return this.accounts.filter((function(t){return t.mint.equals(e)})).sort((function(e,t){return-e.amount.cmp(t.amount)}))[0]}}],[{key:"empty",value:function(){return e.SPL_ACCOUNT_CONTEXT_EMPTY}},{key:"index",value:function(t){var n=new Map;return t.forEach((function(e){return n.set(e.address.toString(),e)})),new e(t,n)}}]),e}();re.SPL_ACCOUNT_CONTEXT_EMPTY=re.index([]);var ce=n(26);var ie=n(78),ae=n(128);function oe(e){return ee.TOKEN_PROGRAM_ID}function se(e){return[{dataSize:ee.AccountLayout.span},{memcmp:{offset:32,bytes:e.wallet.publicKey.toBase58()}}]}function ue(e){var t=Object(ae.parseTokenAccount)(e.accountInfo.data);return t.address=e.accountId,t}var le=c.a.createContext(void 0);function de(e){var t=e.children,n=void 0===t?null:t,c=function(e,t,n,c){var i=Object(r.useState)([]),a=Object(f.a)(i,2),o=a[0],s=a[1],u=Object(r.useState)((function(){return function(){return Promise.resolve([])}})),l=Object(f.a)(u,2),d=l[0],j=l[1],b=Object(r.useState)(!1),p=Object(f.a)(b,2),x=p[0],g=p[1];return Object(r.useEffect)((function(){var r=e(c),i=t(c),a=c.connection,o=new Map;if(r){var u=function(){return g(!0),a.getProgramAccounts(r,{filters:i}).then((function(e){var t,r=Object(ce.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,i=n({accountId:c.pubkey,accountInfo:c.account});o.set(c.pubkey.toBase58(),i)}}catch(u){r.e(u)}finally{r.f()}var a=Array.from(o.values());return s(a),a})).finally((function(){return g(!1)}))};j((function(){return u})),u().then((function(e){console.log("Fetched ".concat(e.length," accounts for program ").concat(r,"."))})).catch((function(){console.error("Connection Failed","Failed to fetch accounts for program ".concat(r))}));var l=a.onProgramAccountChange(r,(function(e){var t=n(e);o.set(e.accountId.toBase58(),t),s(Array.from(o.values()))}),"singleGossip",i);return function(){o.clear(),s([]),j((function(){return function(){return Promise.resolve([])}})),a.removeProgramAccountChangeListener(l).then((function(){console.log("Subscription ".concat(r," terminated."))}))}}}),[t,e,n,c]),[o,d,x]}(oe,se,ue,Object(ie.a)().provider),i=Object(f.a)(c,3),a=i[0],o=i[1],s=i[2],u=Object(r.useMemo)((function(){var e=Object($.a)(a);return re.index(e)}),[a]),l=Object(r.useCallback)(Object(Z.a)(H.a.mark((function e(){var t,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([o()]);case 2:return t=e.sent,n=Object(f.a)(t,1),r=n[0],c=Object($.a)(r),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),[o]),d=Object(r.useMemo)((function(){return s}),[s]);return Object(E.jsx)(le.Provider,{value:{tokens:u,reload:l,isLoading:d},children:n})}function je(){var e=new b.PublicKey("6ExGdhoUeqzExzXWx1tW2RPojuRnfXeTRwQ7sCeEcnKy");return Object(E.jsx)(L.a,{multisig:e})}function be(){var e=Object(o.e)(),t=Object(o.f)().pathname.split("/");if(2!==t.length)return e.push("/multisig"),Object(E.jsx)(E.Fragment,{});var n=new b.PublicKey(t[1]);return Object(E.jsx)(L.a,{multisig:n})}var fe=function(){var e=Object(j.a)({palette:{background:{default:"rgb(255,255,255)"}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(",")},overrides:{}}),t=Object(r.useMemo)((function(){return[Object(U.a)(),Object(Y.a)(),Object(z.a)({options:{clientId:"BOM5Cl7PXgE9Ylq1Z1tqzhpydY0RVr8k90QQ85N7AKI5QGSrr9iDC-3rvmy0K_hF0JfpLMiXoDhta68JwcxS1LQ"}}),Object(G.a)(),Object(V.a)(),Object(X.a)(),Object(J.a)()]}),[]);return Object(E.jsxs)(l.a,{theme:e,children:[Object(E.jsx)(d.a,{}),Object(E.jsx)(u.a,{maxSnack:5,autoHideDuration:8e3,children:Object(E.jsx)(I.a,{children:Object(E.jsx)(F.a,{wallets:t,autoConnect:!0,children:Object(E.jsx)(P.a,{children:Object(E.jsx)(de,{children:Object(E.jsx)(s.a,{basename:"/",children:Object(E.jsxs)(D,{children:[Object(E.jsx)(o.a,{exact:!0,path:"/",component:je}),Object(E.jsx)(o.a,{exact:!0,path:"/:address",component:be})]})})})})})})})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,774)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(fe,{})}),document.getElementById("root")),pe()},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(155),c=n(5),i=n(755),a=n(0),o={version:"0.0.0",name:"multisig",instructions:[{name:"createMultisig",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"}]},{name:"createTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"proposer",isMut:!1,isSigner:!0},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"pid",type:"publicKey"},{name:"accs",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"}]},{name:"approve",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0}],args:[]},{name:"setOwners",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"owners",type:{vec:"publicKey"}}]},{name:"changeThreshold",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"threshold",type:"u64"}]},{name:"executeTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1}],args:[]}],accounts:[{name:"Multisig",type:{kind:"struct",fields:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"},{name:"ownerSetSeqno",type:"u32"}]}},{name:"Transaction",type:{kind:"struct",fields:[{name:"multisig",type:"publicKey"},{name:"programId",type:"publicKey"},{name:"accounts",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"},{name:"signers",type:{vec:"bool"}},{name:"didExecute",type:"bool"},{name:"ownerSetSeqno",type:"u32"}]}}],types:[{name:"TransactionAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"}]}}],errors:[{code:100,name:"InvalidOwner",msg:"The given owner is not part of this multisig."},{code:101,name:"NotEnoughSigners",msg:"Not enough owners signed this transaction."},{code:102,name:"TransactionAlreadySigned",msg:"Cannot delete a transaction that has been signed by an owner."},{code:103,name:"Overflow",msg:"Overflow when adding."},{code:104,name:"UnableToDelete",msg:"Cannot delete a transaction the owner did not create."},{code:105,name:"AlreadyExecuted",msg:"The given transaction has already been executed."},{code:106,name:"InvalidThreshold",msg:"Threshold must be less than or equal to the number of owners."}]},s=n(101);function u(){var e=Object(i.a)(),t=Object(s.c)();return Object(a.useMemo)((function(){var n=new r.b(t,null!==e&&void 0!==e?e:new r.c(c.Keypair.generate()),{preflightCommitment:"recent",commitment:"recent"});return new r.a(o,"msigmtwzgXJHj2ext4XJjCDmpbcMuufFb5cHuwg6Xdt",n)}),[e,t])}}},[[686,1,2]]]);
//# sourceMappingURL=main.43fbe1b4.chunk.js.map