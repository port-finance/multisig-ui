{"version":3,"sources":["utils/ids.ts","context/connection.tsx","utils/utils.ts","components/Notification.tsx","components/Multisig.tsx","utils/idl.ts","hooks/useOwnedTokenAccounts.ts","components/Header.tsx","components/Footer.tsx","components/Layout.tsx","models/TokenAccountContext.ts","context/AccountContext.tsx","hooks/useProgramSubscription.ts","App.tsx","reportWebVitals.ts","index.tsx","idl/index.ts","hooks/useMultisigProgram.tsx"],"names":["PROGRAM_IDS","PublicKey","name","ENDPOINTS","endpoint","chainID","ChainID","MainnetBeta","clusterApiUrl","Testnet","Devnet","DEFAULT","ConnectionContext","React","createContext","setEndpoint","connection","Connection","sendConnection","env","ConnectionProvider","envName","children","undefined","key","defaultState","useState","storedState","localStorage","getItem","JSON","parse","state","setState","setLocalStorageState","useCallback","newState","removeItem","setItem","stringify","useLocalStorageState","useMemo","find","end","useEffect","id","onAccountChange","Keypair","publicKey","removeAccountChangeListener","onSlotChange","removeSlotChangeListener","Provider","value","useConnection","useContext","useConnectionConfig","context","ViewTransactionOnExplorerButton","props","signature","urlSuffix","toString","color","component","target","rel","href","Multisig","multisig","fixed","maxWidth","style","position","bottom","right","display","flexDirection","NewMultisigButton","MultisigInstance","open","setOpen","border","width","height","borderRadius","onClick","NewMultisigDialog","onClose","multisigClient","useMultisigProgram","multisigAccount","setMultisigAccount","transactions","setTransactions","showSignerDialog","setShowSignerDialog","showAddTransactionDialog","setShowAddTransactionDialog","forceRefresh","setForceRefresh","account","fetch","then","catch","err","console","error","transaction","all","toBuffer","txs","subscribe","on","marginBottom","marginTop","padding","marginLeft","marginRight","textAlign","elevation","variant","flexGrow","threshold","owners","length","title","arrow","disablePadding","primary","map","tx","TxListItem","AddTransactionDialog","didAddTransaction","SignerDialog","provider","wallet","history","useHistory","enqueueSnackbar","useSnackbar","setThreshold","zeroAddr","participants","setParticipants","_onClose","maxParticipantLength","setMaxParticipantLength","disableCreate","createMultisig","a","Account","multisigSize","findProgramAddress","programId","nonce","p","rpc","BN","rent","SYSVAR_RENT_PUBKEY","createInstruction","accounts","signers","instructions","action","push","fullWidth","label","type","onChange","e","parseInt","idx","justifyContent","disabled","str","txAccount","setTxAccount","rows","field","didExecute","wordBreak","background","float","encodeBase64","data","ownerSetSeqno","msAccountRows","owner","approve","execute","multisigSigner","executeTransaction","remainingAccounts","t","pubkey","equals","isSigner","concat","isWritable","button","icon","ixLabel","in","timeout","unmountOnExit","errStr","align","r","AccountsList","BPF_LOADER_UPGRADEABLE_PID","Buffer","from","secondary","coder","sighash","slice","TOKEN_PROGRAM_ID","tag","amountBuf","amountParsed","u64","fromBuffer","idl","signer","setSigner","addrNonce","paddingBottom","ProgramUpdateListItem","IdlUpgradeListItem","MultisigSetOwnersListItem","ChangeThresholdListItem","TransferTokenListItem","ChangeThresholdListItemDetails","changeThreshold","changeThresholdData","proposer","createTransaction","paddingLeft","paddingRight","SetOwnersListItemDetails","setOwners","setOwnersData","UpgradeIdlListItemDetails","setProgramId","buffer","setBuffer","createTransactionAccount","programAddr","bufferAddr","idlAddress","idlAddr","accs","UpgradeProgramListItemDetails","getAccountInfo","programAccount","Error","programdataAddress","spill","SYSVAR_CLOCK_PUBKEY","TransferTokenListItemDetails","source","setSource","destination","setDestination","amount","setAmount","tokenAccounts","useMultiSigOwnedTokenAccounts","sourceAddr","destinationAddr","getTokenAccount","sourceTokenAccount","destinationAccountInfo","ACCOUNT_LAYOUT","span","destinationTokenAccount","mint","toBase58","getMintInfo","tokenMint","TEN","multiplier","pow","decimals","amountInLamports","mul","transferIx","Token","createTransferInstruction","keys","paddingTop","autoWidth","tokenAccount","address","instruction","encode","base","createWithSeed","getOwnedTokenAccounts","getProgramAccounts","filters","memcmp","offset","bytes","dataSize","AccountLayout","parseTokenAccount","IDL_INSTRUCTION_LAYOUT","rustEnum","struct","encodeInstruction","i","alloc","len","IDL_TAG","reverse","multiSig","results","setResults","ownedTokenAccounts","onLoad","log","Header","useAnchorWallet","multisigAddress","setMultisigAddress","addr","_","isValidPubkey","searchFn","AppBar","boxShadow","borderBottom","Toolbar","flex","BarButton","hrefClient","backgroundColor","outlineWidth","placeholder","onKeyPress","IconButton","NetworkSelector","startIcon","Link","textDecoration","Button","Typography","fontSize","anchorEl","setAnchorEl","handleClose","currentTarget","Menu","Boolean","MenuItem","Footer","zIndex","borderTop","FooterButton","isEnd","Layout","refresh","setRefresh","minHeight","RiskBar","window","RiskDisclosureForm","onConsent","TokenAccountContext","bySplAccountId","this","splAccountId","result","findSplAccount","get","mintId","findSplAccountByMintId","filter","sort","b","cmp","SPL_ACCOUNT_CONTEXT_EMPTY","Map","forEach","set","index","getProgramId","_provider","getFilters","raw","res","accountInfo","accountId","Context","AccountProvider","Promise","resolve","reload","setReload","isLoading","setIsLoading","cache","rawAccounts","parsed","values","Array","finally","sub","onProgramAccountChange","info","clear","removeProgramAccountChangeListener","useProgramSubscription","splAccounts","reloadSplAccounts","isReloadingSplAccounts","tokens","MultisigPage","MultisigInstancePage","path","useLocation","pathname","split","App","theme","createMuiTheme","palette","default","typography","fontFamily","join","overrides","wallets","getPhantomWallet","getSolflareWallet","getTorusWallet","options","clientId","getLedgerWallet","getSolongWallet","getMathWallet","getSolletWallet","CssBaseline","maxSnack","autoHideDuration","WalletProvider","autoConnect","basename","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","version","isMut","args","vec","defined","kind","fields","types","errors","code","msg","Wallet","generate","preflightCommitment","commitment","Program","MultisigIdl"],"mappings":"iSASaA,GAPmB,IAAIC,YAClC,+CAE4B,IAAIA,YAChC,+CAGyB,CACzB,CACEC,KAAM,gBAER,CACEA,KAAM,WAER,CACEA,KAAM,UAER,CACEA,KAAM,c,gBCJGC,EAAY,CACvB,CACED,KAAM,eACNE,SAAU,uCACVC,QAASC,IAAQC,aAEnB,CACEL,KAAM,UACNE,SAAUI,wBAAc,WACxBH,QAASC,IAAQG,SAEnB,CACEP,KAAM,SACNE,SAAUI,wBAAc,UACxBH,QAASC,IAAQI,QAEnB,CACER,KAAM,WACNE,SAAU,wBACVC,QAASC,IAAQI,SAIfC,EAAUR,EAAU,GAAGC,SAUvBQ,EAAoBC,IAAMC,cAAgC,CAC9DV,SAAUO,EACVI,YAAa,aACbC,WAAY,IAAIC,aAAWN,EAAS,UACpCO,eAAgB,IAAID,aAAWN,EAAS,UACxCQ,IAAKhB,EAAU,GAAGD,OAGb,SAASkB,EAAT,GAA8D,IDjCvCC,ECiCsC,IAA/BC,gBAA+B,WAApBC,EAAoB,ICvD7D,SAA8BC,EAAaC,GAAwB,IAAD,EAC7CC,oBAAS,WAEjC,IAAMC,EAAcC,aAAaC,QAAQL,GACzC,OAAIG,EACKG,KAAKC,MAAMJ,GAEbF,KAP8D,mBAChEO,EADgE,KACzDC,EADyD,KAUjEC,EAAuBC,uBAC3B,SAACC,GACiBJ,IAAUI,IAI1BH,EAASG,GACQ,OAAbA,EACFR,aAAaS,WAAWb,GAExBI,aAAaU,QAAQd,EAAKM,KAAKS,UAAUH,OAG7C,CAACJ,EAAOR,IAGV,MAAO,CAACQ,EAAOE,GD8BiBM,CAC9B,mBACArC,EAAU,GAAGC,UAHmD,mBAC3DA,EAD2D,KACjDW,EADiD,KAM5DC,EAAayB,mBAAQ,kBAAM,IAAIxB,aAAWb,EAAU,YAAW,CACnEA,IAEIc,EAAiBuB,mBAAQ,kBAAM,IAAIxB,aAAWb,EAAU,YAAW,CACvEA,IAKIe,GADJhB,EAAUuC,MAAK,SAACC,GAAD,OAASA,EAAIvC,WAAaA,MAAaD,EAAU,IAChDD,KAsClB,ODtF4BmB,ECkDdF,EDjDCnB,EAAY0C,MAAK,SAACvB,GAAD,OAASA,EAAIjB,OAASmB,KCsDtDuB,qBAAU,WACR,IAAMC,EAAK7B,EAAW8B,iBAAgB,IAAIC,WAAUC,WAAW,eAC/D,OAAO,WACLhC,EAAWiC,4BAA4BJ,MAExC,CAAC7B,IAEJ4B,qBAAU,WACR,IAAMC,EAAK7B,EAAWkC,cAAa,kBAAM,QACzC,OAAO,WACLlC,EAAWmC,yBAAyBN,MAErC,CAAC7B,IAEJ4B,qBAAU,WACR,IAAMC,EAAK3B,EAAe4B,iBACxB,IAAIC,WAAUC,WACd,eAEF,OAAO,WACL9B,EAAe+B,4BAA4BJ,MAE5C,CAAC3B,IAEJ0B,qBAAU,WACR,IAAMC,EAAK3B,EAAegC,cAAa,kBAAM,QAC7C,OAAO,WACLhC,EAAeiC,yBAAyBN,MAEzC,CAAC3B,IAGF,cAACN,EAAkBwC,SAAnB,CACEC,MAAO,CACLjD,WACAW,cACAC,aACAE,iBACAC,OANJ,SASGG,IAKA,SAASgC,IACd,OAAOC,qBAAW3C,GAAmBI,WAOhC,SAASwC,IACd,IAAMC,EAAUF,qBAAW3C,GAC3B,MAAO,CACLR,SAAUqD,EAAQrD,SAClBW,YAAa0C,EAAQ1C,YACrBI,IAAKsC,EAAQtC,O,8GE1GV,SAASuC,EAAgCC,GAAe,IACrDC,EAAcD,EAAdC,UACAzC,EAAQqC,cAARrC,IACF0C,EAAS,mBAAe1C,EAAI2C,YAClC,OACE,cAAC,IAAD,CACEC,MAAM,UACNC,UAAU,IACVC,OAAO,SACPC,IAAI,WACJC,KAAM,yCAAkCP,GAAcC,EALxD,uC,mzBCwBW,SAASO,GAAT,GAA2D,IAAvCC,EAAsC,EAAtCA,SACjC,OACE,iCACE,eAAC,IAAD,CAAWC,OAAK,EAACC,SAAS,KAA1B,SACE,sBACEC,MAAO,CACLC,SAAU,QACVC,OAAQ,OACRC,MAAO,OACPC,QAAS,OACTC,cAAe,eANnB,SASE,eAACC,GAAD,QAGHT,GAAY,eAACU,GAAD,CAAkBV,SAAUA,OAK/C,SAASS,KAAqB,IAAD,EACHpD,oBAAS,GADN,mBACpBsD,EADoB,KACdC,EADc,KAE3B,OACE,uBAAKT,MAAO,CAAEI,QAAS,QAAvB,UACE,eAAC,IAAD,CACEJ,MAAO,CACLU,OAAQ,iBACRC,MAAO,OACPC,OAAQ,OACRC,aAAc,QAEhBC,QAAS,kBAAML,GAAQ,IAPzB,SASE,eAAC,KAAD,MAEF,eAACM,GAAD,CAAmBP,KAAMA,EAAMQ,QAAS,kBAAMP,GAAQ,SAKrD,SAASF,GAAT,GAAkE,IAAtCV,EAAqC,EAArCA,SAC3BoB,EAAiBC,eAD+C,EAExBhE,wBAAcH,GAFU,mBAE/DoE,EAF+D,KAE9CC,EAF8C,OAG9BlE,mBAAc,MAHgB,mBAG/DmE,EAH+D,KAGjDC,EAHiD,OAItBpE,oBAAS,GAJa,mBAI/DqE,EAJ+D,KAI7CC,EAJ6C,OAKNtE,oBAC9D,GANoE,mBAK/DuE,EAL+D,KAKrCC,EALqC,OAQ9BxE,oBAAS,GARqB,mBAQ/DyE,EAR+D,KAQjDC,EARiD,KAgCtE,OAvBAxD,qBAAU,WACR6C,EAAeY,QACZhC,SAASiC,MAAMjC,GACfkC,MAAK,SAACF,GACLT,EAAmBS,MAEpBG,OAAM,SAACC,GACNC,QAAQC,MAAMF,GACdb,EAAmB,WAEtB,CAACvB,EAAUoB,EAAeY,UAC7BzD,qBAAU,WACR6C,EAAeY,QAAQO,YAAYC,IAAIxC,EAASyC,YAAYP,MAAK,SAACQ,GAChEjB,EAAgBiB,QAEjB,CAACtB,EAAeY,QAAQO,YAAavC,EAAU8B,IAClDvD,qBAAU,WACR6C,EAAeY,QAAQhC,SACpB2C,UAAU3C,GACV4C,GAAG,UAAU,SAACZ,GACbT,EAAmBS,QAEtB,CAACZ,EAAgBpB,IAElB,gBAAC,IAAD,CAAWC,OAAK,EAACC,SAAS,KAAKC,MAAO,CAAE0C,aAAc,QAAtD,UACE,iCACE,eAAC,IAAD,CAAM1C,MAAO,CAAE2C,UAAW,QAA1B,cACuB5F,IAApBoE,EACC,sBAAKnB,MAAO,CAAE4C,QAAS,QAAvB,SACE,eAAC,IAAD,CACE5C,MAAO,CACLI,QAAS,QACTyC,WAAY,OACZC,YAAa,YAIG,OAApB3B,EACF,eAAC,IAAD,UACE,eAAC,IAAD,CACE5B,MAAM,gBACNS,MAAO,CACL4C,QAAS,OACTG,UAAW,UAJf,kCAWF,iCAGH5B,GACC,gBAAC,IAAD,WACE,eAAC,IAAD,CACEnB,MAAO,CAAE2C,UAAW,QACpB1C,SAAS,SACTV,MAAM,UACNyD,UAAW,EAJb,SAME,gBAAC,IAAD,WACE,gBAAC,IAAD,CAAYC,QAAQ,KAAKjD,MAAO,CAAEkD,SAAU,GAAK1D,UAAU,KAA3D,UACGK,EAASP,WADZ,MAC2B6B,EAAgBgC,UAAU7D,WAAY,IADjE,MAEM6B,EAAgBiC,OAAOC,OAAO/D,WAFpC,eAIA,eAAC,IAAD,CAASgE,MAAM,SAASC,OAAK,EAA7B,SACE,eAAC,IAAD,CAAYzC,QAAS,kBAAMU,GAAoB,IAA/C,SACE,eAAC,IAAD,QAGJ,eAAC,IAAD,CAAS8B,MAAM,MAAMC,OAAK,EAA1B,SACE,eAAC,IAAD,CAAYzC,QAAS,kBAAMY,GAA4B,IAAvD,SACE,eAAC,KAAD,aAKR,eAAC,KAAD,CAAM8B,gBAAc,EAApB,SACoB,OAAjBnC,EACC,sBAAKrB,MAAO,CAAE4C,QAAS,QAAvB,SACE,eAAC,IAAD,CACE5C,MAAO,CACLI,QAAS,QACTyC,WAAY,OACZC,YAAa,YAIO,IAAxBzB,EAAagC,OACf,eAAC,KAAD,UACE,eAAC,KAAD,CAAcI,QAAQ,4BAGxBpC,EAAaqC,KAAI,SAACC,GAAD,OACf,eAACC,GAAD,CAEE/D,SAAUA,EACVsB,gBAAiBA,EACjBwC,GAAIA,GAHCA,EAAGnF,UAAUc,uBAWhC,eAACuE,GAAD,CACEhE,SAAUA,EACVW,KAAMiB,EACNT,QAAS,kBAAMU,GAA4B,IAC3CoC,kBAAmB,kBAAMlC,GAAiBD,MAE3CR,GACC,eAAC4C,GAAD,CAEElE,SAAUA,EACVsB,gBAAiBA,EACjBX,KAAMe,EACNP,QAAS,kBAAMQ,GAAoB,KAJ9BP,EAAe+C,SAASC,OAAOzF,UAAUc,eAWjD,SAASyB,GAAT,GAMH,IALFP,EAKC,EALDA,KACAQ,EAIC,EAJDA,QAKMkD,EAAUC,cACVlD,EAAiBC,eACfkD,EAAoBC,cAApBD,gBAHP,EAIiClH,mBAAS,GAJ1C,mBAIMiG,EAJN,KAIiBmB,EAJjB,KAMKC,EAAW,IAAI9I,aAAU,oCAAoC6D,WANlE,EAOuCpC,mBAAS,CAACqH,IAPjD,mBAOMC,EAPN,KAOoBC,EAPpB,KAQKC,EAAW,WACf1D,IACAsD,EAAa,GACbG,EAAgB,CAACF,EAAUA,KAX5B,EAauDrH,mBAAS,IAbhE,mBAaMyH,EAbN,KAa4BC,EAb5B,KAcKC,EAAgBF,EAAuBH,EAAanB,OACpDyB,EAAc,uCAAG,wCAAAC,EAAA,6DACrBX,EAAgB,oBAAqB,CACnCnB,QAAS,SAELpD,EAAW,IAAImF,WAEJ,GAGH,GAGRC,EANW,IAKwB,GAAvBN,EAA4B,GAFhC,GATO,SAaGlJ,aAAUyJ,mBAChC,CAACrF,EAASrB,UAAU8D,YACpBrB,EAAekE,WAfI,0CAaZC,EAbY,KAiBfhC,EAASoB,EAAad,KAAI,SAAC2B,GAAD,OAAO,IAAI5J,aAAU4J,MAjBhC,KAkBJpE,EAAeqE,IAlBX,KAmBnBlC,EAnBmB,KAoBnB,IAAImC,KAAGpC,GApBY,KAqBnBiC,EArBmB,KAuBP,CACRvF,SAAUA,EAASrB,UACnBgH,KAAMC,uBAzBS,KA2BR,CAAC5F,GA3BO,UA6BToB,EAAeY,QAAQhC,SAAS6F,kBACpC7F,EAEAoF,GAhCa,6CAuBjBU,SAvBiB,KA2BjBC,QA3BiB,KA4BjBC,aA5BiB,qBAkBef,eAlBf,uCAkBfnB,EAlBe,OAqCrBS,EAAgB,qBAAD,OAAsBvE,EAASrB,UAAUc,YAAc,CACpE2D,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDe,IACAR,EAAQ6B,KAAR,WAAiBlG,EAASrB,UAAUc,aA1Cf,4CAAH,qDA4CpB,OACE,gBAAC,IAAD,CAAQ0G,WAAS,EAACxF,KAAMA,EAAMQ,QAAS0D,EAAU3E,SAAS,KAA1D,UACE,eAAC,KAAD,UACE,eAAC,IAAD,CAAYkD,QAAQ,KAAKzD,UAAU,KAAnC,4BAIF,gBAAC,IAAD,WACE,eAAC,IAAD,CACEwG,WAAS,EACTC,MAAM,YACNpH,MAAOsE,EACP+C,KAAK,SACLC,SAAU,SAACC,GAAD,OAAO9B,EAAa+B,SAASD,EAAE3G,OAAOZ,WAElD,eAAC,IAAD,CACEmH,WAAS,EACTC,MAAM,mEACNpH,MAAO8F,EACPuB,KAAK,SACLC,SAAU,SAACC,GAAD,OAAOxB,EAAwByB,SAASD,EAAE3G,OAAOZ,WAE5D2F,EAAad,KAAI,SAAC2B,EAAGiB,GAAJ,OAChB,eAAC,IAAD,CAEEN,WAAS,EACTC,MAAM,cACNpH,MAAOwG,EACPc,SAAU,SAACC,GACT,IAAMf,EAAC,YAAOb,GACda,EAAEiB,GAAOF,EAAE3G,OAAOZ,MAClB4F,EAAgBY,KAPbA,MAWT,sBAAKrF,MAAO,CAAEI,QAAS,OAAQmG,eAAgB,YAA/C,SACE,eAAC,IAAD,CACEzF,QAAS,WACP,IAAMuE,EAAC,YAAOb,GAEda,EAAEU,KAAK,IAAItK,aAAU,oCAAoC6D,YACzDmF,EAAgBY,IALpB,SAQE,eAAC,KAAD,WAIN,gBAAC,KAAD,WACE,eAAC,IAAD,CAAQvE,QAAS4D,EAAjB,oBACA,eAAC,IAAD,CACE8B,SAAU3B,EACV5B,QAAQ,YACRiD,KAAK,SACL3G,MAAM,UACNuB,QAAS,kBACPgE,IAAiB9C,OAAM,SAACC,GACtB,IAAMwE,EAAMxE,EAAMA,EAAI3C,WAAa,GACnC8E,EAAgB,4BAAD,OAA6BqC,GAAO,CACjDxD,QAAS,cATjB,0BAqBR,SAASW,GAAT,GAQI,IAPF/D,EAOC,EAPDA,SACAsB,EAMC,EANDA,gBACAwC,EAKC,EALDA,GAMQS,EAAoBC,cAApBD,gBACFnD,EAAiBC,eAFtB,EAGuBhE,oBAAS,GAHhC,mBAGMsD,EAHN,KAGYC,EAHZ,OAIiCvD,mBAASyG,EAAG9B,SAJ7C,mBAIM6E,EAJN,KAIiBC,EAJjB,KAKDvI,qBAAU,WACR6C,EAAeY,QAAQO,YACpBI,UAAUmB,EAAGnF,WACbiE,GAAG,UAAU,SAACZ,GACb8E,EAAa9E,QAEhB,CAACZ,EAAgBpB,EAAU8D,EAAGnF,YACjC,IAAMoI,EAAO,CACX,CACEC,MAAO,aACPhI,MAAO6H,EAAUvB,UAAU7F,YAE7B,CACEuH,MAAO,cACPhI,MAAO6H,EAAUI,WAAWxH,YAE9B,CACEuH,MAAO,mBACPhI,MACE,uBACEmB,MAAO,CACL+G,UAAW,aACXpG,MAAO,QACPqG,WAAY,QACZzH,MAAO,UACP0H,MAAO,QACPlE,UAAW,QAPf,SAUGmE,YAAaR,EAAUS,SAI9B,CACEN,MAAO,WACPhI,MAAO6H,EAAU7G,SAASP,YAE5B,CACEuH,MAAO,sBACPhI,MAAO8E,EAAGnF,UAAUc,YAEtB,CACEuH,MAAO,kBACPhI,MAAO6H,EAAUU,cAAc9H,aAG7B+H,EAAgBlG,EAAgBiC,OAAOM,KAC3C,SAAC4D,EAAkBhB,GACjB,MAAO,CACLO,MAAOS,EAAMhI,WACbT,MAAO6H,EAAUd,QAAQU,GAAO,eAAC,IAAD,IAAgB,eAAC,IAAD,QAIhDiB,EAAO,uCAAG,sBAAAxC,EAAA,6DACdX,EAAgB,wBAAyB,CACvCnB,QAAS,SAFG,SAIRhC,EAAeqE,IAAIiC,QAAQ,CAC/B5B,SAAU,CACR9F,WACAuC,YAAauB,EAAGnF,UAChB8I,MAAOrG,EAAe+C,SAASC,OAAOzF,aAR5B,OAWd4F,EAAgB,uBAAwB,CACtCnB,QAAS,YAZG,2CAAH,qDAePuE,EAAO,uCAAG,gCAAAzC,EAAA,6DACdX,EAAgB,wBAAyB,CACvCnB,QAAS,SAFG,SAIiBxH,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WANH,0CAIPsC,EAJO,cAQRxG,EAAeqE,IAAIoC,mBAAmB,CAC1C/B,SAAU,CACR9F,WACA4H,iBACArF,YAAauB,EAAGnF,WAElBmJ,kBAAmBjB,EAAUf,SAC1BjC,KAAI,SAACkE,GACJ,OAAIA,EAAEC,OAAOC,OAAOL,GACX,2BAAKG,GAAZ,IAAeG,UAAU,IAEpBH,KAERI,OAAO,CACNH,OAAQnB,EAAUvB,UAClB8C,YAAY,EACZF,UAAU,MAxBF,OA2Bd3D,EAAgB,uBAAwB,CACtCnB,QAAS,YA5BG,2CAAH,qDA+Bb,OACE,uCACE,gBAAC,KAAD,CAAUiF,QAAM,EAACpH,QAAS,kBAAML,GAASD,IAAzC,UACE,eAAC,KAAD,UAAe2H,GAAKxE,EAAI1C,KACvBmH,GAAQzE,EAAI1C,GACZyF,EAAUI,YACT,eAAC,KAAD,CAAiB9G,MAAO,CAAE8C,YAAa,UAExCtC,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,MAN0BmD,EAAGnF,UAAUc,YAQlE,eAAC,IAAD,CAAU+I,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,uBAAKvI,MAAO,CAAEgH,WAAY,UAAWpE,QAAS,QAA9C,UACE,uBAAK5C,MAAO,CAAEI,QAAS,OAAQmG,eAAgB,YAA/C,UACE,eAAC,IAAD,CACEvG,MAAO,CAAE8C,YAAa,QACtBG,QAAQ,YACR1D,MAAM,UACNuB,QAAS,kBACPyG,IAAUvF,OAAM,SAACC,GACf,IAAIuG,EAAS,GACTvG,IACFuG,EAASvG,EAAI3C,YAEf8E,EAAgB,kCAAD,OAAmCoE,GAAU,CAC1DvF,QAAS,cAXjB,qBAkBA,eAAC,IAAD,CACEA,QAAQ,YACR1D,MAAM,YACNuB,QAAS,kBACP0G,IAAUxF,OAAM,SAACC,GACf,IAAIuG,EAAS,GACTvG,IACFuG,EAASvG,EAAI3C,YAEf8E,EAAgB,kCAAD,OAAmCoE,GAAU,CAC1DvF,QAAS,cAVjB,wBAkBF,eAAC,IAAD,CAAMjD,MAAO,CAAE2C,UAAW,QAA1B,SACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAAC,IAAD,gCACA,eAAC,IAAD,CAAW8F,MAAM,QAAjB,wBAGJ,eAAC,IAAD,UACG7B,EAAKlD,KAAI,SAACgF,GAAD,OACR,gBAAC,IAAD,WACE,eAAC,IAAD,UAA0BA,EAAE7B,OAAZ6B,EAAE7B,OAClB,eAAC,IAAD,CAAW4B,MAAM,QAAjB,SAAmDC,EAAE7J,OAArD,UAAiC6J,EAAE7B,MAAnC,0BAOZ,eAAC,IAAD,CAAM7G,MAAO,CAAE2C,UAAW,QAA1B,SACE,gBAAC,IAAD,WACE,gBAAC,IAAD,WACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAAC,IAAD,6BACA,eAAC,IAAD,CAAW8F,MAAM,QAAjB,2BAGJ,eAAC,IAAD,UACG/B,EAAUU,gBAAkBjG,EAAgBiG,eAC3CC,EAAc3D,KAAI,SAACgF,GAAD,OAChB,gBAAC,IAAD,WACE,eAAC,IAAD,UAAYA,EAAE7B,QACd,eAAC,IAAD,CAAW4B,MAAM,QAAjB,SAA0BC,EAAE7J,mBAKrC6H,EAAUU,gBAAkBjG,EAAgBiG,eAC3C,sBAAKpH,MAAO,CAAE2C,UAAW,QAAzB,SACE,eAAC,IAAD,CACEpD,MAAM,gBACNS,MAAO,CAAE+C,UAAW,UAFtB,iFAUR,eAAC,IAAD,CAAM/C,MAAO,CAAE2C,UAAW,QAA1B,SACE,eAAC,IAAD,UACE,eAACgG,GAAD,CAAchD,SAAUe,EAAUf,uBAShD,SAASyC,GAAQzE,EAAS1C,GACxB,GAAI0C,EAAG9B,QAAQsD,UAAU2C,OAAOc,KAE1BjF,EAAG9B,QAAQsF,KAAKW,OAAOe,EAAOC,KAAK,CAAC,EAAG,EAAG,EAAG,KAC/C,OACE,eAAC,KAAD,CACErF,QAAQ,kBACRsF,UAAWpF,EAAGnF,UAAUc,aAKhC,GAAIqE,EAAG9B,QAAQsD,UAAU2C,OAAO7G,EAAekE,WAAY,CAKzD,GAJ4BlE,EAAe+H,MAAMC,QAC/C,SACA,oBAEsBnB,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IACtD,OACE,eAAC,KAAD,CACEzF,QAAQ,gBACRsF,UAAWpF,EAAGnF,UAAUc,aAQ9B,GAJyB2B,EAAe+H,MAAMC,QAC5C,SACA,cAEmBnB,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IACnD,OACE,eAAC,KAAD,CACEzF,QAAQ,aACRsF,UAAWpF,EAAGnF,UAAUc,aAKhC,GAAIqE,EAAG9B,QAAQsD,UAAU2C,OAAOqB,qBAAmB,CACjD,IAAMC,EAAMzF,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,GAC/BG,EAAY1F,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,GACrCI,EAAeC,OAAIC,WAAWH,GACpC,OAAIR,EAAOC,KAAK,CAAC,IAAIhB,OAAOsB,GAExB,eAAC,KAAD,CACE3F,QAAO,mBAAc6F,EAAahK,WAA3B,kBACPyJ,UAAWpF,EAAGnF,UAAUc,aAK1BuJ,EAAOC,KAAK,CAAC,IAAIhB,OAAOsB,GAExB,eAAC,KAAD,CACE3F,QAAQ,gBACRsF,UAAWpF,EAAGnF,UAAUc,aAK1BuJ,EAAOC,KAAK,CAAC,IAAIhB,OAAOsB,GAExB,eAAC,KAAD,CACE3F,QAAQ,gBACRsF,UAAWpF,EAAGnF,UAAUc,aAK5B,eAAC,KAAD,CACEmE,QAAQ,qBACRsF,UAAWpF,EAAGnF,UAAUc,aAI9B,OAAImK,KAAY3B,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IAE5C,eAAC,KAAD,CAAczF,QAAQ,cAAcsF,UAAWpF,EAAGnF,UAAUc,aAGzD,eAAC,KAAD,CAAcmE,QAASE,EAAGnF,UAAUc,aAG7C,SAASqJ,GAAT,GAAwD,IAAhChD,EAA+B,EAA/BA,SACtB,OACE,gBAAC,IAAD,WACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAAC,IAAD,sBACA,eAAC,IAAD,CAAW8C,MAAM,QAAjB,sBACA,eAAC,IAAD,CAAWA,MAAM,QAAjB,yBAGJ,eAAC,IAAD,UACG9C,EAASjC,KAAI,SAACgF,GAAD,OACZ,gBAAC,IAAD,WACE,eAAC,IAAD,UAAYA,EAAEb,OAAOvI,aACrB,eAAC,IAAD,CAAWmJ,MAAM,QAAjB,SAA0BC,EAAET,WAAW3I,aACvC,eAAC,IAAD,CAAWmJ,MAAM,QAAjB,SAA0BC,EAAEX,SAASzI,wBAQjD,SAASyE,GAAT,GAUI,IATFlE,EASC,EATDA,SACAsB,EAQC,EARDA,gBACAX,EAOC,EAPDA,KACAQ,EAMC,EANDA,QAOMC,EAAiBC,eADtB,EAE2BhE,mBAAwB,MAFnD,mBAEMwM,EAFN,KAEcC,EAFd,KASD,OANAvL,qBAAU,WACR3C,aAAUyJ,mBACR,CAACrF,EAASyC,YACVrB,EAAekE,WACfpD,MAAK,SAAC6H,GAAD,OAAeD,EAAUC,EAAU,GAAGtK,iBAC5C,CAACO,EAAUoB,EAAekE,UAAWwE,EAAW1I,IAEjD,gBAAC,IAAD,CAAQT,KAAMA,EAAMwF,WAAS,EAAChF,QAASA,EAASjB,SAAS,KAAzD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,CAAYkD,QAAQ,KAAKzD,UAAU,KAAnC,6BAIF,gBAAC,IAAD,CAAeQ,MAAO,CAAE6J,cAAe,QAAvC,UACE,gBAAC,IAAD,WACE,yDADF,KACmCH,EADnC,8FAIA,gBAAC,IAAD,WACE,eAAC,IAAD,UACE,eAAC,IAAD,UACE,eAAC,IAAD,yBAGJ,eAAC,IAAD,UACGvI,EAAgBiC,OAAOM,KAAI,SAACgF,GAAD,OAC1B,eAAC,IAAD,UACE,eAAC,IAAD,UAAYA,EAAEpJ,cADDoJ,EAAEpJ,uBAOzB,eAAC,KAAD,UACE,eAAC,IAAD,CAAQwB,QAASE,EAAjB,wBAMR,SAAS6C,GAAT,GAUI,IATFhE,EASC,EATDA,SACAW,EAQC,EARDA,KACAQ,EAOC,EAPDA,QACA8C,EAMC,EANDA,kBAOA,OACE,gBAAC,IAAD,CAAQtD,KAAMA,EAAMwF,WAAS,EAAChF,QAASA,EAASjB,SAAS,KAAzD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,CAAYkD,QAAQ,KAAKzD,UAAU,KAAnC,+BAIF,gBAAC,IAAD,CAAeQ,MAAO,CAAE6J,cAAe,QAAvC,UACE,eAAC,IAAD,wJAKA,gBAAC,KAAD,CAAMrG,gBAAc,EAApB,UACE,eAACsG,GAAD,CACEhG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,IAEX,eAAC+I,GAAD,CACEjG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,IAEX,eAACgJ,GAAD,CACElG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,IAEX,eAACiJ,GAAD,CACEnG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,IAEX,eAACkJ,GAAD,CACEpG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,aAQrB,SAASiJ,GAAT,GAQI,IAPFpK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACuB5G,oBAAS,GADhC,mBACMsD,EADN,KACYC,EADZ,KAED,OACE,uCACE,gBAAC,KAAD,CAAUyH,QAAM,EAACpH,QAAS,kBAAML,GAAQ,SAACD,GAAD,OAAWA,MAAnD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,MAEF,eAAC,KAAD,CAAciD,QAAS,qBACtBjD,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,OAE3B,eAAC,IAAD,CAAU6H,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAAC4B,GAAD,CACErG,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,SAOnB,SAASmJ,GAAT,GAQI,IAPFtK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACiC5G,mBAAS,GAD1C,mBACMiG,EADN,KACiBmB,EADjB,KAEKrD,EAAiBC,eAEfkD,EAAoBC,cAApBD,gBACFgG,EAAe,uCAAG,wCAAArF,EAAA,6DACtBX,EAAgB,wCAAyC,CACvDnB,QAAS,SAELkE,EAAOkD,GAAoBpJ,EAAgBkC,GAJ3B,SAKS1H,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WAPK,0CAKfsC,EALe,KAShB9B,EAAW,CACf,CACEkC,OAAQhI,EACRoI,YAAY,EACZF,UAAU,GAEZ,CACEF,OAAQJ,EACRQ,YAAY,EACZF,UAAU,IAGR3F,EAAc,IAAI4C,WACT,IAtBO,KAuBL/D,EAAeqE,IAvBV,KAwBpBrE,EAAekE,UAxBK,KAyBpBQ,EAzBoB,KA0BpBwB,EA1BoB,KA4BR,CACRtH,WACAuC,YAAaA,EAAY5D,UACzB8L,SAAUrJ,EAAe+C,SAASC,OAAOzF,UACzCgH,KAAMC,uBAhCU,KAkCT,CAACrD,GAlCQ,UAoCVnB,EAAeY,QAAQO,YAAYsD,kBACvCtD,EAfO,KAtBO,6CA4BlBuD,SA5BkB,KAkClBC,QAlCkB,KAmClBC,aAnCkB,qBAuBc0E,kBAvBd,uCAuBhB5G,EAvBgB,OA4CtBS,EAAgB,sBAAuB,CACrCnB,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDG,EAAkB1B,EAAY5D,WAC9BwC,IAjDsB,4CAAH,qDAmDrB,OACE,uBACEhB,MAAO,CACLgH,WAAY,UACZwD,YAAa,OACbC,aAAc,QAJlB,UAOE,eAAC,IAAD,CACEzE,WAAS,EACThG,MAAO,CAAE2C,UAAW,QACpBsD,MAAM,YACNpH,MAAOsE,EACP+C,KAAK,SACLC,SAAU,SAACC,GAET9B,EAAa8B,EAAE3G,OAAOZ,UAG1B,sBAAKmB,MAAO,CAAEI,QAAS,OAAQmG,eAAgB,YAA/C,SACE,eAAC,IAAD,CAAQzF,QAAS,kBAAMsJ,KAAvB,mCAMR,SAASJ,GAAT,GAQI,IAPFnK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACuB5G,oBAAS,GADhC,mBACMsD,EADN,KACYC,EADZ,KAED,OACE,uCACE,gBAAC,KAAD,CAAUyH,QAAM,EAACpH,QAAS,kBAAML,GAAQ,SAACD,GAAD,OAAWA,MAAnD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,MAEF,eAAC,KAAD,CAAciD,QAAS,eACtBjD,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,OAE3B,eAAC,IAAD,CAAU6H,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAACmC,GAAD,CACE5G,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,SAOnB,SAAS0J,GAAT,GAQI,IAPF7K,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAMM7C,EAAiBC,eAEjBqD,EAAW,IAAI9I,aAAU,oCAAoC6D,WAHlE,EAIuCpC,mBAAS,CAACqH,IAJjD,mBAIMC,EAJN,KAIoBC,EAJpB,KAKOL,EAAoBC,cAApBD,gBACFuG,EAAS,uCAAG,0CAAA5F,EAAA,6DAChBX,EAAgB,iCAAkC,CAChDnB,QAAS,SAELG,EAASoB,EAAad,KAAI,SAAC2B,GAAD,OAAO,IAAI5J,aAAU4J,MAC/C8B,EAAOyD,GAAc3J,EAAgBmC,GAL3B,SAMe3H,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WARD,0CAMTsC,EANS,KAUV9B,EAAW,CACf,CACEkC,OAAQhI,EACRoI,YAAY,EACZF,UAAU,GAEZ,CACEF,OAAQJ,EACRQ,YAAY,EACZF,UAAU,IAGR3F,EAAc,IAAI4C,WACT,IAvBC,KAwBC/D,EAAeqE,IAxBhB,KAyBdrE,EAAekE,UAzBD,KA0BdQ,EA1Bc,KA2BdwB,EA3Bc,KA6BF,CACRtH,WACAuC,YAAaA,EAAY5D,UACzB8L,SAAUrJ,EAAe+C,SAASC,OAAOzF,UACzCgH,KAAMC,uBAjCI,KAmCH,CAACrD,GAnCE,UAqCJnB,EAAeY,QAAQO,YAAYsD,kBACvCtD,EAfO,KAvBC,6CA6BZuD,SA7BY,KAmCZC,QAnCY,KAoCZC,aApCY,qBAwBoB0E,kBAxBpB,0CAwBV5G,EAxBU,0DAgDhBS,EAAgB,sBAAuB,CACrCnB,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDG,EAAkB1B,EAAY5D,WAC9BwC,IArDgB,4CAAH,qDAuDf,OACE,uBACEhB,MAAO,CACLgH,WAAY,UACZwD,YAAa,OACbC,aAAc,QAJlB,UAOGjG,EAAad,KAAI,SAAC2B,EAAGiB,GAAJ,OAChB,eAAC,IAAD,CACEN,WAAS,EACThG,MAAO,CAAE2C,UAAW,QACpBsD,MAAM,cACNpH,MAAOwG,EACPc,SAAU,SAACC,GACT,IAAMf,EAAC,YAAOb,GACda,EAAEiB,GAAOF,EAAE3G,OAAOZ,MAClB4F,EAAgBY,SAItB,sBAAKrF,MAAO,CAAEI,QAAS,OAAQmG,eAAgB,YAA/C,SACE,eAAC,IAAD,CACEzF,QAAS,WACP,IAAMuE,EAAC,YAAOb,GAEda,EAAEU,KAAK,IAAItK,aAAU,oCAAoC6D,YACzDmF,EAAgBY,IALpB,SAQE,eAAC,KAAD,QAGJ,sBACErF,MAAO,CACLI,QAAS,OACTmG,eAAgB,WAChB5D,UAAW,OACXkH,cAAe,QALnB,SAQE,eAAC,IAAD,CAAQ/I,QAAS,kBAAM6J,KAAvB,6BAMR,SAASZ,GAAT,GAQI,IAPFlK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACuB5G,oBAAS,GADhC,mBACMsD,EADN,KACYC,EADZ,KAED,OACE,uCACE,gBAAC,KAAD,CAAUyH,QAAM,EAACpH,QAAS,kBAAML,GAAQ,SAACD,GAAD,OAAWA,MAAnD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,MAEF,eAAC,KAAD,CAAciD,QAAS,gBACtBjD,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,OAE3B,eAAC,IAAD,CAAU6H,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAACsC,GAAD,CACE/G,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,SAOnB,SAAS6J,GAAT,GAQI,IAPFhL,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EAEiC5G,mBAAwB,MAFzD,mBAEMiI,EAFN,KAEiB2F,EAFjB,OAG2B5N,mBAAwB,MAHnD,mBAGM6N,EAHN,KAGcC,EAHd,KAKK/J,EAAiBC,eACfkD,EAAoBC,cAApBD,gBACF6G,EAAwB,uCAAG,8CAAAlG,EAAA,6DAC/BX,EAAgB,uBAAwB,CACtCnB,QAAS,SAELiI,EAAc,IAAIzP,aAAU0J,GAC5BgG,EAAa,IAAI1P,aAAUsP,GALF,SAMTK,GAAWF,GANF,cAMzBG,EANyB,gBAOA5P,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WATc,0CAOxBsC,EAPwB,KAWzBN,EAAOsC,KAAsB,CAAEuB,UAAW,KAC1CM,EAAO,CACX,CACEzD,OAAQsD,EACRlD,YAAY,EACZF,UAAU,GAEZ,CAAEF,OAAQwD,EAASpD,YAAY,EAAMF,UAAU,GAC/C,CAAEF,OAAQJ,EAAgBQ,YAAY,EAAMF,UAAU,IAEzC,IACT3F,EAAc,IAAI4C,WAtBO,KAuBd/D,EAAeqE,IAvBD,KAwB7B4F,EAxB6B,KAyB7BI,EAzB6B,KA0B7BnE,EA1B6B,KA4BjB,CACRtH,WACAuC,YAAaA,EAAY5D,UACzB8L,SAAUrJ,EAAe+C,SAASC,OAAOzF,UACzCgH,KAAMC,uBAhCmB,KAkClB,CAACrD,GAlCiB,UAoCnBnB,EAAeY,QAAQO,YAAYsD,kBACvCtD,EAhBO,KArBgB,6CA4B3BuD,SA5B2B,KAkC3BC,QAlC2B,KAmC3BC,aAnC2B,qBAuBK0E,kBAvBL,uCAuBzB5G,EAvByB,OA4C/BS,EAAgB,sBAAuB,CACrCnB,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDG,EAAkB1B,EAAY5D,WAC9BwC,IAjD+B,4CAAH,qDAoD9B,OACE,uBACEhB,MAAO,CACLgH,WAAY,UACZwD,YAAa,OACbC,aAAc,QAJlB,UAOE,eAAC,IAAD,CACEzE,WAAS,EACThG,MAAO,CAAE2C,UAAW,QACpBsD,MAAM,aACNpH,MAAOsG,EACPgB,SAAU,SAACC,GAAD,OAAO0E,EAAa1E,EAAE3G,OAAOZ,UAEzC,eAAC,IAAD,CACEmB,MAAO,CAAE2C,UAAW,QACpBqD,WAAS,EACTC,MAAM,iBACNpH,MAAOkM,EACP5E,SAAU,SAACC,GAAD,OAAO4E,EAAU5E,EAAE3G,OAAOZ,UAEtC,sBACEmB,MAAO,CACLI,QAAS,OACTmG,eAAgB,WAChB5D,UAAW,OACXkH,cAAe,QALnB,SAQE,eAAC,IAAD,CAAQ/I,QAAS,kBAAMmK,KAAvB,iCAQR,SAASnB,GAAT,GAQI,IAPFjK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACuB5G,oBAAS,GADhC,mBACMsD,EADN,KACYC,EADZ,KAED,OACE,uCACE,gBAAC,KAAD,CAAUyH,QAAM,EAACpH,QAAS,kBAAML,GAAQ,SAACD,GAAD,OAAWA,MAAnD,UACE,eAAC,KAAD,UACE,eAAC,IAAD,MAEF,eAAC,KAAD,CAAciD,QAAS,oBACtBjD,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,OAE3B,eAAC,IAAD,CAAU6H,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAACgD,GAAD,CACEzH,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,SAOnB,IAAM4H,GAA6B,IAAInN,aACrC,+CAGF,SAAS8P,GAAT,GAQI,IAPF1L,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACiC5G,mBAAwB,MADzD,mBACMiI,EADN,KACiB2F,EADjB,OAE2B5N,mBAAwB,MAFnD,mBAEM6N,EAFN,KAEcC,EAFd,KAIK/J,EAAiBC,eACfkD,EAAoBC,cAApBD,gBACF6G,EAAwB,uCAAG,gDAAAlG,EAAA,6DAC/BX,EAAgB,uBAAwB,CACtCnB,QAAS,SAELiI,EAAc,IAAIzP,aAAU0J,GAC5BgG,EAAa,IAAI1P,aAAUsP,GAE3B5D,EAAO0B,EAAOC,KAAK,CAAC,EAAG,EAAG,EAAG,IAPJ,SASF,sBAAC,4BAAA/D,EAAA,sEACC9D,EAAe+C,SAASxH,WAAWgP,eAC9DN,GAF0B,UAIL,QAHjBO,EADsB,8BAKpB,IAAIC,MAAM,sBALU,gCAOrB,CAELC,mBAAoB,IAAIlQ,aAAUgQ,EAAetE,KAAK+B,MAAM,MATlC,0CAAD,GATE,cASzBuC,EATyB,OAqBzBG,EAAQ3K,EAAe+C,SAASC,OAAOzF,UArBd,UAsBA/C,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WAxBc,2CAsBxBsC,EAtBwB,KA0BzB6D,EAAO,CACX,CACEzD,OAAQ4D,EAAeE,mBACvB1D,YAAY,EACZF,UAAU,GAEZ,CAAEF,OAAQqD,EAAajD,YAAY,EAAMF,UAAU,GACnD,CAAEF,OAAQsD,EAAYlD,YAAY,EAAMF,UAAU,GAClD,CAAEF,OAAQ+D,EAAO3D,YAAY,EAAMF,UAAU,GAC7C,CAAEF,OAAQpC,sBAAoBwC,YAAY,EAAOF,UAAU,GAC3D,CAAEF,OAAQgE,uBAAqB5D,YAAY,EAAOF,UAAU,GAC5D,CAAEF,OAAQJ,EAAgBQ,YAAY,EAAOF,UAAU,IAE1C,IACT3F,EAAc,IAAI4C,WAxCO,KAyCd/D,EAAeqE,IAzCD,KA0C7BsD,GA1C6B,KA2C7B0C,EA3C6B,KA4C7BnE,EA5C6B,KA8CjB,CACRtH,WACAuC,YAAaA,EAAY5D,UACzB8L,SAAUrJ,EAAe+C,SAASC,OAAOzF,UACzCgH,KAAMC,uBAlDmB,KAoDlB,CAACrD,GApDiB,UAsDnBnB,EAAeY,QAAQO,YAAYsD,kBACvCtD,EAhBO,KAvCgB,6CA8C3BuD,SA9C2B,KAoD3BC,QApD2B,KAqD3BC,aArD2B,qBAyCK0E,kBAzCL,uCAyCzB5G,EAzCyB,OA8D/BS,EAAgB,sBAAuB,CACrCnB,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDG,EAAkB1B,EAAY5D,WAC9BwC,IAnE+B,4CAAH,qDAsE9B,OACE,uBACEhB,MAAO,CACLgH,WAAY,UACZwD,YAAa,OACbC,aAAc,QAJlB,UAOE,eAAC,IAAD,CACEzE,WAAS,EACThG,MAAO,CAAE2C,UAAW,QACpBsD,MAAM,aACNpH,MAAOsG,EACPgB,SAAU,SAACC,GAAD,OAAO0E,EAAa1E,EAAE3G,OAAOZ,UAEzC,eAAC,IAAD,CACEmB,MAAO,CAAE2C,UAAW,QACpBqD,WAAS,EACTC,MAAM,qBACNpH,MAAOkM,EACP5E,SAAU,SAACC,GAAD,OAAO4E,EAAU5E,EAAE3G,OAAOZ,UAEtC,sBACEmB,MAAO,CACLI,QAAS,OACTmG,eAAgB,WAChB5D,UAAW,OACXkH,cAAe,QALnB,SAQE,eAAC,IAAD,CAAQ/I,QAAS,kBAAMmK,KAAvB,iCAQR,SAASf,GAAT,GAQI,IAPFrK,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EACuB5G,oBAAS,GADhC,mBACMsD,EADN,KACYC,EADZ,KAED,OACE,uCACE,gBAAC,KAAD,CAAUyH,QAAM,EAACpH,QAAS,kBAAML,GAAQ,SAACD,GAAD,OAAWA,MAAnD,UACE,eAAC,KAAD,UACE,eAAC,KAAD,MAEF,eAAC,KAAD,CAAciD,QAAS,mBACtBjD,EAAO,eAAC,IAAD,IAAiB,eAAC,IAAD,OAE3B,eAAC,IAAD,CAAU6H,GAAI7H,EAAM8H,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAACuD,GAAD,CACEhI,kBAAmBA,EACnBjE,SAAUA,EACVmB,QAASA,SAOnB,SAAS8K,GAAT,GAQI,IAPFjM,EAOC,EAPDA,SACAmB,EAMC,EANDA,QACA8C,EAKC,EALDA,kBAKC,EAC2B5G,mBAAwB,MADnD,mBACM6O,EADN,KACcC,EADd,OAEqC9O,mBAAwB,MAF7D,mBAEM+O,EAFN,KAEmBC,EAFnB,OAG2BhP,mBAAqB,MAHhD,mBAGMiP,EAHN,KAGcC,EAHd,KAMKnL,EAAiBC,eACfkD,EAAoBC,cAApBD,gBAEFiI,EAAgBC,aAA8BrL,EAAe+C,SAAUnE,EAAUoB,EAAekE,WAEhG8F,EAAwB,uCAAG,wDAAAlG,EAAA,6DAC/BX,EAAgB,uBAAwB,CACtCnB,QAAS,SAELsJ,EAAa,IAAI9Q,aAAUsQ,GAC3BS,EAAkB,IAAI/Q,aAAUwQ,GALP,SAMAxQ,aAAUyJ,mBACvC,CAACrF,EAASyC,YACVrB,EAAekE,WARc,0CAMxBsC,EANwB,eAUEgF,2BAC/BxL,EAAe+C,SACfuI,GAZ6B,eAUzBG,EAVyB,iBAeMzL,EAAe+C,SAASxH,WAAWgP,eACtEgB,GAhB6B,WAmBA,QAJzBG,EAfyB,SAmBQA,EAAuBrF,MAAMhI,aAAe6J,oBAAiB7J,YAAcqN,EAAuBxF,KAAK9D,SAAWuJ,kBAAeC,KAnBzI,wBAqB7BzI,EAAgB,oBAAqB,CACnCnB,QAAS,UAtBkB,4CA2BOwJ,2BACpCxL,EAAe+C,SACfwI,GA7B6B,WA2BzBM,EA3ByB,OAgC3BJ,EAAmBK,KAAKC,aAAeF,EAAwBC,KAAKC,WAhCzC,wBAiC7B5I,EAAgB,4BAA6B,CAC3CnB,QAAS,UAlCkB,4CAuCPgK,uBACtBhM,EAAe+C,SAAU0I,EAAmBK,MAxCf,WAuCzBG,EAvCyB,OA0C1Bf,EA1C0B,wBA2C7B/H,EAAgB,qBAAsB,CACpCnB,QAAS,YA5CkB,kCAgDzBkK,EAAM,IAAI5D,OAAI,IACd6D,EAAaD,EAAIE,IAAI,IAAI9H,KAAG2H,EAAUI,WACtCC,EAAmBpB,EAAOqB,IAAIJ,GAC9BK,EAAaC,SAAMC,0BACvBxE,oBACAoD,EACAC,EACA/E,EACA,GACA,IAAI8B,OAAIgE,EAAiBjO,aAErB8C,EAAc,IAAI4C,WA3DO,KA4Dd/D,EAAeqE,IA5DD,KA6D7B6D,oBA7D6B,KA8D7BsE,EAAWG,KA9DkB,KA+D7B/E,EAAOC,KAAK2E,EAAWtG,MA/DM,KAiEjB,CACRtH,WACAuC,YAAaA,EAAY5D,UACzB8L,SAAUrJ,EAAe+C,SAASC,OAAOzF,UACzCgH,KAAMC,uBArEmB,KAuElB,CAACrD,GAvEiB,UAyEnBnB,EAAeY,QAAQO,YAAYsD,kBACvCtD,EAEA,KA5EuB,6CAiE3BuD,SAjE2B,KAuE3BC,QAvE2B,KAwE3BC,aAxE2B,qBA4DK0E,kBA5DL,uCA4DzB5G,EA5DyB,OAiF/BS,EAAgB,sBAAuB,CACrCnB,QAAS,UACT6C,OAAQ,eAAC,KAAD,CAAiC1G,UAAWuE,MAEtDG,EAAkB1B,EAAY5D,WAC9BwC,IAtF+B,4CAAH,qDAyF9B,OACE,uBACEhB,MAAO,CACLgH,WAAY,UACZ6G,WAAY,OACZrD,YAAa,OACbC,aAAc,QALlB,UAQE,gBAAC,KAAD,CAAazE,WAAS,EAAtB,UACE,eAAC,KAAD,CAAY3H,GAAG,sBAAf,kCACA,eAAC,KAAD,CACEyP,WAAW,EACXjP,MAAOkN,EAFT,SAIGM,EAAc3I,KACb,SAAAqK,GACE,OACE,eAAC,KAAD,CAAUlP,MAAOkP,EAAaC,QAAQ1O,WAAYwB,QAChD,WACEkL,EAAU+B,EAAaC,QAAQ1O,aAFnC,SAKGyO,EAAaC,QAAQ1O,kBAMhC,eAAC,IAAD,CACEU,MAAO,CAAE2C,UAAW,QACpBqD,WAAS,EACTC,MAAM,SACNpH,MAAOsN,EACPhG,SAAU,SAACC,GAAD,OAAOgG,EAAU,IAAI7C,OAAInD,EAAE3G,OAAOZ,WAE9C,eAAC,IAAD,CACEmB,MAAO,CAAE2C,UAAW,QACpBqD,WAAS,EACTC,MAAM,sBACNpH,MAAOoN,EACP9F,SAAU,SAACC,GAAD,OAAO8F,EAAe9F,EAAE3G,OAAOZ,aAI7C,sBACEmB,MAAO,CACLI,QAAS,OACTmG,eAAgB,WAChB5D,UAAW,OACXkH,cAAe,QALnB,SAQE,eAAC,IAAD,CAAQ/I,QAAS,kBAAMmK,KAAvB,wCASR,SAAS9C,GAAKxE,EAAI1C,GAChB,GAAI0C,EAAG9B,QAAQsD,UAAU2C,OAAOc,IAC9B,OAAO,eAAC,IAAD,IAET,GAAIjF,EAAG9B,QAAQsD,UAAU2C,OAAO7G,EAAekE,WAAY,CAKzD,GAJ4BlE,EAAe+H,MAAMC,QAC/C,SACA,oBAEsBnB,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IACtD,OAAO,eAAC,IAAD,IAMT,GAJyBjI,EAAe+H,MAAMC,QAC5C,SACA,cAEmBnB,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IACnD,OAAO,eAAC,IAAD,IAGX,OAAIvF,EAAG9B,QAAQsD,UAAU2C,OAAOqB,qBACvB,eAAC,KAAD,IAELM,KAAY3B,OAAOnE,EAAG9B,QAAQsF,KAAK+B,MAAM,EAAG,IACvC,eAAC,IAAD,IAEF,eAAC,IAAD,IAIT,SAASmB,GAAoBpJ,EAAgBkC,GAC3C,OAAOlC,EAAe+H,MAAMiF,YAAYC,OAAO,mBAAoB,CACjE/K,UAAW,IAAIoC,KAAGpC,KAKtB,SAASyH,GAAc3J,EAAgBmC,GACrC,OAAOnC,EAAe+H,MAAMiF,YAAYC,OAAO,aAAc,CAC3D9K,W,SAMWgI,G,iFAAf,WAA0BjG,GAA1B,eAAAJ,EAAA,sEACsBtJ,aAAUyJ,mBAAmB,GAAIC,GADvD,cACQgJ,EADR,OACmE,GADnE,SAEe1S,aAAU2S,eAAeD,EAK/B,aAL6ChJ,GAFtD,oF,sBAUO,SAAekJ,GAAtB,qC,8CAAO,WACL7R,EACAgC,GAFK,eAAAuG,EAAA,sEAIkBvI,EAAW8R,mBAChCnF,oBACA,CACEoF,QAAS,CACP,CACEC,OAAQ,CACNC,OAAQ,GACRC,MAAOlQ,EAAUwO,aAGrB,CACE2B,SAAUC,iBAAc/B,SAf3B,cAIClH,EAJD,yBAqBHA,EACGjC,KAAI,SAAAgF,GACH,IAAMqF,EAAec,6BAAkBnG,EAAE7G,QAAQsF,MAEjD,OADA4G,EAAaC,QAAUtF,EAAEb,OAClBkG,MAzBR,4C,oFCxlDP,oGAiBMe,EAAiDC,mBAAS,CAC9DC,iBAAO,GAAI,UACXA,iBAAO,GAAI,gBACXA,iBAAO,GAAI,SACXA,iBAAO,GAAI,aACXA,iBAAO,GAAI,kBAGN,SAASC,EAAkBC,GAChC,IAAMnE,EAASlC,EAAOsG,MAAM,KACtBC,EAAMN,EAAuBZ,OAAOgB,EAAGnE,GAC7C,OAAOlC,EAAOb,OAAO,CAACqH,EAAStE,EAAO7B,MAAM,EAAGkG,KAI1C,IAAMC,EAAUxG,EAAOC,KAAK,mBAAoB,OAAOwG,Y,sJCzBvD,SAAShD,EACdtI,EACAuL,EACApK,GACiB,IAAD,EACcjI,mBAAyB,IADvC,mBACTsS,EADS,KACAC,EADA,KAkChB,OA/BArR,qBAAU,WACR,IAAM5B,EAAawH,EAASxH,WAyB5B,OAvBY,uCAAG,kCAAAuI,EAAA,sEACkBtJ,YAAUyJ,mBACvC,CAACqK,EAASjN,YACV6C,GAHW,0CACNuE,EADM,mBAKoB2E,YAAsB7R,EAAYkN,GALtD,cAKPgG,EALO,OAMbD,EAAWC,GANE,kBAONA,GAPM,4CAAH,oDASZC,GACG5N,MAAK,SAAAyN,GACJtN,QAAQ0N,IAAR,kBACaJ,EAAQnM,OADrB,kCACqDkM,EADrD,SAIDvN,OAAM,WACLE,QAAQC,MACN,oBADF,kDAE6CoN,OAK1C,WACLE,EAAW,OAEZ,CAACzL,IAEGwL,I,+yBC3BM,SAASK,IACtB,IAAM5L,EAAU6L,cACV5L,EAAUC,cAFe,EAGejH,mBAAS,IAHxB,mBAGxB6S,EAHwB,KAGPC,EAHO,KAIzBxJ,GAmMR,SAAuByJ,GACrB,IAEE,OADA,IAAIxU,YAAUwU,IACP,EACP,MAAOC,GACP,OAAO,GAxMSC,CAAcJ,GAC1BK,EAAW,WACflM,EAAQ6B,KAAR,WAAiBgK,KAEnB,OACE,cAACM,EAAA,EAAD,CACEpQ,SAAS,SACTD,MAAO,CACLgH,WAAY,UACZzH,MAAO,UACP+Q,UAAW,OACXC,aAAc,kBANlB,SASE,cAACC,EAAA,EAAD,UACE,sBACExQ,MAAO,CACLI,QAAS,OACTO,MAAO,QAHX,UAME,sBAAKX,MAAO,CAAEI,QAAS,OAAQqQ,KAAM,GAArC,UACE,cAACC,EAAD,CAAWzK,MAAM,WAAW0K,WAAW,MACvC,sBACE3Q,MAAO,CACL6C,WAAY,OACZC,YAAa,OACbjC,aAAc,OACdT,QAAS,OACTqQ,KAAM,EACNG,gBAAiB,oBAPrB,UAUE,uBACE5Q,MAAO,CACLyQ,KAAM,EACNzJ,WAAY,OACZpE,QAAS,OACTlC,OAAQ,OACRmQ,aAAc,EACdtR,MAAO,WAETuR,YAAY,+BACZjS,MAAOkR,EACP5J,SAAU,SAACC,GAAD,OAAO4J,EAAmB5J,EAAE3G,OAAOZ,QAC7CkS,WAAY,SAAC3K,GACG,UAAVA,EAAEpJ,KACJoT,OAIN,cAACY,EAAA,EAAD,CAAYxK,SAAUA,EAAU1F,QAASsP,EAAzC,SACE,cAAC,IAAD,YAIN,sBACEpQ,MAAO,CACLI,QAAS,QAFb,UAKE,cAAC6Q,EAAD,IACA,cAAC,IAAD,IACChN,GAAU,cAAC,IAAD,CAAwBiN,UAAW,cAAC,IAAD,IAAoBlR,MAAO,CAAE6C,WAAY,eAwCnG,SAAS6N,EAAUvR,GACjB,IAAM+E,EAAUC,cACR8B,EAA4B9G,EAA5B8G,MAAOtG,EAAqBR,EAArBQ,KAAMgR,EAAexR,EAAfwR,WACrB,OACE,qBACE3Q,MAAO,CACLI,QAAS,OACTC,cAAe,SACfkG,eAAgB,UAElBzF,QAAS,kBAAM6P,GAAczM,EAAQ6B,KAAK4K,IAN5C,SAQE,cAACQ,EAAA,EAAD,CACEnR,MAAO,CAAET,MAAO,UAAW6R,eAAgB,QAC3CzR,KAAMA,EACNF,OAAO,SAHT,SAKE,cAAC4R,EAAA,EAAD,CAAQ9R,MAAM,UAAd,SACE,qBACES,MAAO,CACLI,QAAS,OACTmG,eAAgB,SAChBlG,cAAe,UAJnB,SAOE,cAACiR,EAAA,EAAD,CAAYtR,MAAO,CAAEuR,SAAU,QAA/B,SAA0CtL,YAQtD,SAASgL,IAAmB,IAAD,EACO/T,mBAAS,MADhB,mBAClBsU,EADkB,KACRC,EADQ,OAEEzS,cAApBrC,EAFkB,EAElBA,IAAKJ,EAFa,EAEbA,YAENmV,EAAc,WAClBD,EAAY,OAGd,OACE,sBACEzR,MAAO,CACL8C,YAAa,OACbyO,SAAU,OACVnR,QAAS,OACTmG,eAAgB,SAChBlG,cAAe,UANnB,UASE,eAACgR,EAAA,EAAD,CACE9R,MAAM,UACNuB,QAAS,SAACsF,GAAD,OACPqL,EAEErL,EAAEuL,gBALR,UASE,cAAC,IAAD,IACA,cAACL,EAAA,EAAD,CAAYtR,MAAO,CAAE6C,WAAY,MAAO0O,SAAU,QAAlD,SACG5U,EAAI2C,gBAGT,cAACsS,EAAA,EAAD,CACEJ,SAAUA,EACVhR,KAAMqR,QAAQL,GACdxQ,QAAS0Q,EACT1R,MAAO,CACL6C,WAAY,OACZtD,MAAO,SANX,SASG5D,IAAU+H,KAAI,SAAA9H,GACb,OACE,cAACkW,EAAA,EAAD,CAEAhR,QAAS,WACP4Q,IACAnV,EAAYX,EAASA,WAJvB,SAOA,cAAC0V,EAAA,EAAD,UAAa1V,EAASF,QANjBE,EAASF,KAAK4D,oBCtMhB,SAASyS,IACtB,OACE,qBACE/R,MAAO,CACLgS,OAAQ,GACR/R,SAAU,QACVU,MAAO,OACPT,OAAQ,EACR6C,UAAW,SACXnC,OAAQ,OACRgQ,gBAAiB,UACjBqB,UAAW,iBACX7R,QAAS,OACTmG,eAAgB,gBAChBiE,YAAa,OACbC,aAAc,QAblB,SAgBE,sBAAKzK,MAAO,CAAE6C,WAAY,OAAQC,YAAa,OAAQ1C,QAAS,QAAhE,UACE,cAAC8R,EAAD,CACEvS,KAAM,4CACNsG,MAAO,WAET,cAACiM,EAAD,CACEvS,KAAM,iDACNsG,MAAO,wBAET,cAACiM,EAAD,CACEvS,KAAM,kDACNsG,MAAO,YAET,cAACiM,EAAD,CAAcvS,KAAM,4BAA6BsG,MAAO,aACxD,cAACiM,EAAD,CACEvS,KAAM,mCACNsG,MAAO,WAET,cAACiM,EAAD,CACEvS,KAAM,0BACNsG,MAAO,iBACPkM,OAAO,SAajB,SAASD,EAAa/S,GAA2B,IACvC8G,EAAuB9G,EAAvB8G,MAAOtG,EAAgBR,EAAhBQ,KAAMwS,EAAUhT,EAAVgT,MACrB,OACE,qBACEnS,MAAO,CACLI,QAAS,OACTmG,eAAgB,SAChBlG,cAAe,SACfyC,YAAaqP,EAAQ,GAAK,QAL9B,SAQE,cAAChB,EAAA,EAAD,CAAMxR,KAAMA,EAAMF,OAAO,SAASF,MAAM,UAAxC,SACE,cAAC+R,EAAA,EAAD,CAAYtR,MAAO,CAAEuR,SAAU,QAA/B,SAA0CtL,QC5DnC,SAASmM,EAAOjT,GAAkC,IAAD,EAChCjC,oBAAS,GADuB,mBACvDmV,EADuD,KAC9CC,EAD8C,KAE9D,OACE,sBACEtS,MAAO,CACLI,QAAS,OACTmS,UAAW,QACXlS,cAAe,SACfuQ,gBAAiB,sBALrB,UAQE,sBACE5Q,MAAO,CACLC,SAAU,QACVU,MAAO,OACPqR,OAAQ,IAJZ,UAOE,cAACQ,EAAD,IACA,cAAC3C,EAAD,OAEF,qBACE7P,MAAO,CACLW,MAAO,OACPgC,UAAW,OACX8N,KAAM,EACNrQ,QAAS,OACTsC,aAAc,QANlB,SASG+P,OAAOrV,aAAaC,QAAQ,WAC3B,qBAAK2C,MAAO,CAAEW,MAAO,QAArB,SAAgCxB,EAAMrC,WAEtC,cAAC4V,EAAD,CACEC,UAAW,WACTF,OAAOrV,aAAaU,QAAQ,UAAW,QACvCwU,GAAYD,QAKpB,cAACN,EAAD,OAKN,SAASS,IACP,OACE,qBACExS,MAAO,CACLT,MAAO,OACPqR,gBAAiB,kBACjBhQ,OAAQ,OACRmC,UAAW,UALf,SAQE,qBACE/C,MAAO,CACLI,QAAS,OACTmG,eAAgB,SAChBlG,cAAe,SACfO,OAAQ,QALZ,SAQE,cAAC0Q,EAAA,EAAD,CAAYtR,MAAO,CAAEuR,SAAU,QAA/B,uEAQR,SAASmB,EAAT,GAAuE,IAAzCC,EAAwC,EAAxCA,UAC5B,OACE,sBACE3S,MAAO,CACLyQ,KAAM,IACNrQ,QAAS,OACTmG,eAAgB,SAChBlG,cAAe,SACf0C,UAAW,UANf,UASE,qBAAK/C,MAAO,CAAEW,MAAO,OAAQP,QAAS,QAAtC,SACE,qBACEJ,MAAO,CAAEI,QAAS,OAAQyC,WAAY,OAAQC,YAAa,QAD7D,SAGE,cAACwO,EAAA,EAAD,CACEtR,MAAO,CAAE0C,aAAc,OAAQ3C,SAAU,UACzCR,MAAM,gBACN0D,QAAQ,KAHV,kTAaJ,qBAAKjD,MAAO,CAAEI,QAAS,OAAQyC,WAAY,OAAQC,YAAa,QAAhE,SACE,cAACuO,EAAA,EAAD,CAAQpO,QAAQ,YAAY1D,MAAM,UAAUuB,QAAS6R,EAArD,0B,uJC1GKC,GAAb,WAQE,WACEjN,EACAkN,GACC,0BANclN,cAMf,OALekN,oBAKf,EACAC,KAAKnN,SAAWA,EAChBmN,KAAKD,eAAiBA,EAb1B,4CA4BE,WACE,OAAOC,KAAKnN,SAAStC,OAAS,IA7BlC,iCAgCE,WACE,OAAOyP,KAAKnN,WAjChB,2BAoCE,SAAqBoN,GACnB,IAAMC,EAASF,KAAKG,eAAeF,GACnC,IAAKC,EACH,MAAM,IAAItH,MAAJ,yBAA4BqH,IAGpC,OAAOC,IA1CX,4BA6CE,SAAsBD,GACpB,IAAM/V,EAAM+V,EAAazT,WACzB,OAAOwT,KAAKD,eAAeK,IAAIlW,KA/CnC,mCAkDE,SAA6BmW,GAC3B,IAAMH,EAASF,KAAKM,uBAAuBD,GAC3C,IAAKH,EACH,MAAM,IAAItH,MAAJ,8BAAiCyH,IAGzC,OAAOH,IAxDX,oCA2DE,SAA8BG,GAI5B,OAHiBL,KAAKnN,SACnB0N,QAAO,SAAAxR,GAAO,OAAIA,EAAQkL,KAAKjF,OAAOqL,MACtCG,MAAK,SAACvO,EAAGwO,GAAJ,OAAWxO,EAAEoH,OAAOqH,IAAID,EAAEpH,WAClB,MA/DpB,oBAgBE,WACE,OAAOyG,EAAoBa,4BAjB/B,mBAoBE,SAAoB9N,GAClB,IAAMkN,EAAiB,IAAIa,IAI3B,OAHA/N,EAASgO,SAAQ,SAAA5O,GAAC,OAChB8N,EAAee,IAAI7O,EAAEiJ,QAAQ1O,WAAYyF,MAEpC,IAAI6N,EAAoBjN,EAAUkN,OAzB7C,KAAaD,GACaa,0BAA4Bb,GAAoBiB,MACtE,I,oCCQJ,SAASC,GAAaC,GACpB,OAAO5K,oBAGT,SAAS6K,GAAWhQ,GAClB,MAAO,CACL,CACE2K,SAAUC,iBAAc/B,MAE1B,CACE2B,OAAQ,CACNC,OAAQ,GACRC,MAAO1K,EAASC,OAAOzF,UAAUwO,cAMzC,SAASzP,GAAM0W,GACb,IAAMC,EAAMrF,6BAAkBoF,EAAIE,YAAYhN,MAE9C,OADA+M,EAAIlG,QAAUiG,EAAIG,UACXF,EAST,IAAMG,GAAUhY,IAAMC,mBAAyBS,GAExC,SAASuX,GAAT,GAAsD,IAAD,IAA1BxX,gBAA0B,MAAf,KAAe,ICvCrD,SACLgX,EACAE,EACAzW,EACAyG,GACqC,IAAD,EACN9G,mBAAc,IADR,mBAC7BsS,EAD6B,KACpBC,EADoB,OAERvS,oBAC1B,kBAAM,kBAAMqX,QAAQC,QAAQ,QAHM,mBAE7BC,EAF6B,KAErBC,EAFqB,OAKFxX,oBAAS,GALP,mBAK7ByX,EAL6B,KAKlBC,EALkB,KAuEpC,OAhEAxW,qBAAU,WACR,IAAM+G,EAAY2O,EAAa9P,GACzBuK,EAAUyF,EAAWhQ,GACrBxH,EAAawH,EAASxH,WACtBqY,EAAQ,IAAInB,IAElB,GAAKvO,EAAL,CAIA,IAAMwK,EAAS,WAEb,OADAiF,GAAa,GACNpY,EACJ8R,mBAAmBnJ,EAAW,CAAEoJ,YAChCxM,MAAK,SAAA+S,GAAgB,IAAD,iBACDA,GADC,IACnB,2BAA+B,CAAC,IAArBb,EAAoB,QACvBc,EAASxX,EAAM,CACnB6W,UAAWH,EAAIpM,OACfsM,YAAaF,EAAIpS,UAEnBgT,EAAMjB,IAAIK,EAAIpM,OAAOmF,WAAY+H,IANhB,8BAQnB,IAAMC,EAASC,MAAMnM,KAAK+L,EAAMG,UAEhC,OADAvF,EAAWuF,GACJA,KAERE,SAAQ,kBAAMN,GAAa,OAEhCF,GAAU,kBAAM/E,KAChBA,IACG5N,MAAK,SAAAiT,GACJ9S,QAAQ0N,IAAR,kBACaoF,EAAO3R,OADpB,iCACmD8B,EADnD,SAIDnD,OAAM,WACLE,QAAQC,MACN,oBADF,+CAE0CgD,OAI9C,IAAMgQ,EAAM3Y,EAAW4Y,uBACrBjQ,GACA,SAAAkQ,GACE,IAAMN,EAASxX,EAAM8X,GACrBR,EAAMjB,IAAIyB,EAAKjB,UAAUpH,WAAY+H,GACrCtF,EAAWwF,MAAMnM,KAAK+L,EAAMG,aAE9B,eACAzG,GAGF,OAAO,WACLsG,EAAMS,QACN7F,EAAW,IACXiF,GAAU,kBAAM,kBAAMH,QAAQC,QAAQ,QAEtChY,EAAW+Y,mCAAmCJ,GAAKpT,MAAK,WACtDG,QAAQ0N,IAAR,uBAA4BzK,EAA5B,wBAGH,CAAC6O,EAAYF,EAAcvW,EAAOyG,IAE9B,CAACwL,EAASiF,EAAQE,GDjCvBa,CACE1B,GACAE,GACAzW,GANoB2D,eAOJ8C,UARsC,mBAGnDyR,EAHmD,KAGtCC,EAHsC,KAGnBC,EAHmB,KAWpDC,EAAS3X,mBAAQ,WACrB,IAAM+U,EAAM,YAAOyC,GACnB,OAAO7C,GAAoBiB,MAAMb,KAChC,CAACyC,IAEEhB,EAAS9W,sBAAW,sBAAC,kCAAAoH,EAAA,sEACGwP,QAAQlS,IAAI,CACtCqT,MAFuB,0CAClBD,EADkB,KAInBzC,EAJmB,YAINyC,GAJM,kBAKlBzC,GALkB,2CAMxB,CAAC0C,IAEEf,EAAY1W,mBAAQ,WACxB,OAAO0X,IACN,CAACA,IAEJ,OACE,cAACtB,GAAQzV,SAAT,CAAkBC,MAAO,CAAE+W,SAAQnB,SAAQE,aAA3C,SACG7X,IEMP,SAAS+Y,KACP,IAAMhW,EAAW,IAAIpE,YAAU,gDAC/B,OAAO,cAACmE,EAAA,EAAD,CAAUC,SAAUA,IAGtB,SAASiW,KACd,IAAM5R,EAAUC,cAEV4R,EADWC,cACKC,SAASC,MAAM,KACrC,GAAoB,IAAhBH,EAAK1S,OAEP,OADAa,EAAQ6B,KAAR,aACO,6BAEP,IAAMlG,EAAW,IAAIpE,YAAUsa,EAAK,IACpC,OAAO,cAACnW,EAAA,EAAD,CAAUC,SAAUA,IAIhBsW,OA1Ef,WACE,IAAMC,EAAQC,YAAe,CAC3BC,QAAS,CACPtP,WAAY,CACVuP,QAAS,qBAGbC,WAAY,CACVC,WAAY,CAAC,kBAAmB,cAAcC,KAAK,MAErDC,UAAW,KAEPC,EAAU3Y,mBACd,iBAAM,CACF4Y,cACAC,cACAC,YAAe,CACXC,QAAS,CACLC,SAAU,6FAGlBC,cACAC,cACAC,cACAC,iBAEJ,IAGF,OACE,eAAC,IAAD,CAAkBjB,MAAOA,EAAzB,UACE,cAACkB,EAAA,EAAD,IACA,cAAC,IAAD,CAAkBC,SAAU,EAAGC,iBAAkB,IAAjD,SACE,cAAC,IAAD,UACE,cAACC,EAAA,EAAD,CAAgBb,QAASA,EAASc,aAAW,EAA7C,SACI,cAAC,IAAD,UACE,cAACpD,GAAD,UACE,cAAC,IAAD,CAAYqD,SAAU,IAAtB,SACM,eAACvF,EAAD,WACE,cAAC,IAAD,CAAOwF,OAAK,EAAC7B,KAAK,IAAIvW,UAAWqW,KACjC,cAAC,IAAD,CACE+B,OAAK,EACL7B,KAAK,YACLvW,UAAWsW,wBCtDxB+B,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBhW,MAAK,YAAkD,IAA/CiW,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,M,sGC0RepO,EAxSE,CACfiP,QAAS,QACThd,KAAM,WACNmK,aAAc,CACZ,CACEnK,KAAM,iBACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,OACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,CACJ,CACEld,KAAM,SACNwK,KAAM,CACJ2S,IAAK,cAGT,CACEnd,KAAM,YACNwK,KAAM,OAER,CACExK,KAAM,QACNwK,KAAM,QAIZ,CACExK,KAAM,oBACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,cACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,OACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,CACJ,CACEld,KAAM,MACNwK,KAAM,aAER,CACExK,KAAM,OACNwK,KAAM,CACJ2S,IAAK,CACHC,QAAS,wBAIf,CACEpd,KAAM,OACNwK,KAAM,WAIZ,CACExK,KAAM,UACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,cACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,QACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,IAER,CACEld,KAAM,YACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,iBACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,CACJ,CACEld,KAAM,SACNwK,KAAM,CACJ2S,IAAK,gBAKb,CACEnd,KAAM,kBACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,iBACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,CACJ,CACEld,KAAM,YACNwK,KAAM,SAIZ,CACExK,KAAM,qBACNiK,SAAU,CACR,CACEjK,KAAM,WACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,iBACNid,OAAO,EACP5Q,UAAU,GAEZ,CACErM,KAAM,cACNid,OAAO,EACP5Q,UAAU,IAGd6Q,KAAM,KAGVjT,SAAU,CACR,CACEjK,KAAM,WACNwK,KAAM,CACJ6S,KAAM,SACNC,OAAQ,CACN,CACEtd,KAAM,SACNwK,KAAM,CACJ2S,IAAK,cAGT,CACEnd,KAAM,YACNwK,KAAM,OAER,CACExK,KAAM,QACNwK,KAAM,MAER,CACExK,KAAM,gBACNwK,KAAM,UAKd,CACExK,KAAM,cACNwK,KAAM,CACJ6S,KAAM,SACNC,OAAQ,CACN,CACEtd,KAAM,WACNwK,KAAM,aAER,CACExK,KAAM,YACNwK,KAAM,aAER,CACExK,KAAM,WACNwK,KAAM,CACJ2S,IAAK,CACHC,QAAS,wBAIf,CACEpd,KAAM,OACNwK,KAAM,SAER,CACExK,KAAM,UACNwK,KAAM,CACJ2S,IAAK,SAGT,CACEnd,KAAM,aACNwK,KAAM,QAER,CACExK,KAAM,gBACNwK,KAAM,WAMhB+S,MAAO,CACL,CACEvd,KAAM,qBACNwK,KAAM,CACJ6S,KAAM,SACNC,OAAQ,CACN,CACEtd,KAAM,SACNwK,KAAM,aAER,CACExK,KAAM,WACNwK,KAAM,QAER,CACExK,KAAM,aACNwK,KAAM,YAMhBgT,OAAQ,CACN,CACEC,KAAM,IACNzd,KAAM,eACN0d,IAAK,iDAEP,CACED,KAAM,IACNzd,KAAM,mBACN0d,IAAK,8CAEP,CACED,KAAM,IACNzd,KAAM,2BACN0d,IAAK,iEAEP,CACED,KAAM,IACNzd,KAAM,WACN0d,IAAK,yBAEP,CACED,KAAM,IACNzd,KAAM,iBACN0d,IAAK,yDAEP,CACED,KAAM,IACNzd,KAAM,kBACN0d,IAAK,oDAEP,CACED,KAAM,IACNzd,KAAM,mBACN0d,IAAK,mE,SC9RJ,SAASlY,IACd,IAAM+C,EAAS6L,cACTtT,EAAasC,cAEnB,OAAOb,mBAAQ,WACb,IAII+F,EAAW,IAAIpF,IAASpC,EAAb,OAAyByH,QAAzB,IAAyBA,IAAU,IAAIoV,IAAO9a,UAAQ+a,YAJxC,CAC3BC,oBAAqB,SACrBC,WAAY,WAId,OAAO,IAAIC,IAAQC,EAAa,8CAA+C1V,KAC9E,CAACC,EAAQzH,O","file":"static/js/main.43fbe1b4.chunk.js","sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\n\nexport const WRAPPED_SOL_MINT = new PublicKey(\n  \"So11111111111111111111111111111111111111112\"\n);\nexport let TOKEN_PROGRAM_ID = new PublicKey(\n  \"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"\n);\n\nexport const PROGRAM_IDS = [\n  {\n    name: \"mainnet-beta\",\n  },\n  {\n    name: \"testnet\",\n  },\n  {\n    name: \"devnet\",\n  },\n  {\n    name: \"localnet\",\n  },\n];\n\nexport const setProgramIds = (envName: string) => {\n  let instance = PROGRAM_IDS.find((env) => env.name === envName);\n  if (!instance) {\n    return;\n  }\n};\n\nexport const programIds = () => {\n  return {\n    token: TOKEN_PROGRAM_ID,\n  };\n};","import { useLocalStorageState } from \"../utils/utils\";\nimport {\n  Keypair,\n  clusterApiUrl,\n  Connection,\n} from \"@solana/web3.js\";\nimport React, { useContext, useEffect, useMemo } from \"react\";\nimport { setProgramIds } from \"../utils/ids\";\nimport { ENV as ChainID } from \"@solana/spl-token-registry\";\n\nexport type ENV =\n  | \"mainnet-beta\"\n  | \"testnet\"\n  | \"devnet\"\n  | \"localnet\";\n\nexport const ENDPOINTS = [\n  {\n    name: \"mainnet-beta\" as ENV,\n    endpoint: \"https://solana-api.projectserum.com/\",\n    chainID: ChainID.MainnetBeta,\n  },\n  {\n    name: \"testnet\" as ENV,\n    endpoint: clusterApiUrl(\"testnet\"),\n    chainID: ChainID.Testnet,\n  },\n  {\n    name: \"devnet\" as ENV,\n    endpoint: clusterApiUrl(\"devnet\"),\n    chainID: ChainID.Devnet,\n  },\n  {\n    name: \"localnet\" as ENV,\n    endpoint: \"http://127.0.0.1:8899\",\n    chainID: ChainID.Devnet,\n  },\n];\n\nconst DEFAULT = ENDPOINTS[0].endpoint;\n\ninterface ConnectionConfig {\n  connection: Connection;\n  sendConnection: Connection;\n  endpoint: string;\n  env: ENV;\n  setEndpoint: (val: string) => void;\n}\n\nconst ConnectionContext = React.createContext<ConnectionConfig>({\n  endpoint: DEFAULT,\n  setEndpoint: () => {},\n  connection: new Connection(DEFAULT, \"recent\"),\n  sendConnection: new Connection(DEFAULT, \"recent\"),\n  env: ENDPOINTS[0].name,\n});\n\nexport function ConnectionProvider({ children = undefined as any }) {\n  const [endpoint, setEndpoint] = useLocalStorageState(\n    \"connectionEndpts\",\n    ENDPOINTS[0].endpoint\n  );\n\n  const connection = useMemo(() => new Connection(endpoint, \"recent\"), [\n    endpoint,\n  ]);\n  const sendConnection = useMemo(() => new Connection(endpoint, \"recent\"), [\n    endpoint,\n  ]);\n\n  const chain =\n    ENDPOINTS.find((end) => end.endpoint === endpoint) || ENDPOINTS[0];\n  const env = chain.name;\n\n  setProgramIds(env);\n\n  // The websocket library solana/web3.js uses closes its websocket connection when the subscription list\n  // is empty after opening its first time, preventing subsequent subscriptions from receiving responses.\n  // This is a hack to prevent the list from every getting empty\n  useEffect(() => {\n    const id = connection.onAccountChange(new Keypair().publicKey, () => {});\n    return () => {\n      connection.removeAccountChangeListener(id);\n    };\n  }, [connection]);\n\n  useEffect(() => {\n    const id = connection.onSlotChange(() => null);\n    return () => {\n      connection.removeSlotChangeListener(id);\n    };\n  }, [connection]);\n\n  useEffect(() => {\n    const id = sendConnection.onAccountChange(\n      new Keypair().publicKey,\n      () => {}\n    );\n    return () => {\n      sendConnection.removeAccountChangeListener(id);\n    };\n  }, [sendConnection]);\n\n  useEffect(() => {\n    const id = sendConnection.onSlotChange(() => null);\n    return () => {\n      sendConnection.removeSlotChangeListener(id);\n    };\n  }, [sendConnection]);\n\n  return (\n    <ConnectionContext.Provider\n      value={{\n        endpoint,\n        setEndpoint,\n        connection,\n        sendConnection,\n        env,\n      }}\n    >\n      {children}\n    </ConnectionContext.Provider>\n  );\n}\n\nexport function useConnection() {\n  return useContext(ConnectionContext).connection as Connection;\n}\n\nexport function useSendConnection() {\n  return useContext(ConnectionContext)?.sendConnection;\n}\n\nexport function useConnectionConfig() {\n  const context = useContext(ConnectionContext);\n  return {\n    endpoint: context.endpoint,\n    setEndpoint: context.setEndpoint,\n    env: context.env,\n  };\n}\n\n","import { useCallback, useState } from \"react\";\n\nexport function useLocalStorageState(key: string, defaultState?: string) {\n  const [state, setState] = useState(() => {\n    // NOTE: Not sure if this is ok\n    const storedState = localStorage.getItem(key);\n    if (storedState) {\n      return JSON.parse(storedState);\n    }\n    return defaultState;\n  });\n\n  const setLocalStorageState = useCallback(\n    (newState) => {\n      const changed = state !== newState;\n      if (!changed) {\n        return;\n      }\n      setState(newState);\n      if (newState === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(newState));\n      }\n    },\n    [state, key]\n  );\n\n  return [state, setLocalStorageState];\n}","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { TransactionSignature } from \"@solana/web3.js\";\nimport { useConnectionConfig } from \"../context/connection\";\n\ntype Props = {\n  signature: string;\n};\n\nexport async function withTx(\n  snack: any,\n  beforeLabel: string,\n  afterLabel: string,\n  execTx: () => Promise<TransactionSignature>\n) {\n  snack.enqueueSnackbar(beforeLabel, {\n    variant: \"info\",\n  });\n  try {\n    let tx = await execTx();\n    snack.closeSnackbar();\n    snack.enqueueSnackbar(afterLabel, {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n  } catch (err) {\n    snack.enqueueSnackbar(`Error: ${err.toString()}`, {\n      variant: \"error\",\n    });\n  }\n}\n\nexport function ViewTransactionOnExplorerButton(props: Props) {\n  const { signature } = props;\n  const { env } = useConnectionConfig();\n  const urlSuffix = `?cluster=${env.toString()}`;\n  return (\n    <Button\n      color=\"inherit\"\n      component=\"a\"\n      target=\"_blank\"\n      rel=\"noopener\"\n      href={`https://explorer.solana.com/tx/${signature}` + urlSuffix}\n    >\n      View on Solana Explorer\n    </Button>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useSnackbar } from \"notistack\";\nimport { encode as encodeBase64 } from \"js-base64\";\nimport Container from \"@material-ui/core/Container\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport BuildIcon from \"@material-ui/icons/Build\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Card from \"@material-ui/core/Card\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport List from \"@material-ui/core/List\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BN from \"bn.js\";\nimport {\n  Account,\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  SYSVAR_CLOCK_PUBKEY,\n} from \"@solana/web3.js\";\nimport { ViewTransactionOnExplorerButton } from \"./Notification\";\nimport * as idl from \"../utils/idl\";\nimport { useMultisigProgram } from \"../hooks/useMultisigProgram\";\nimport { Token, TOKEN_PROGRAM_ID, u64, AccountInfo as TokenAccount, AccountLayout } from \"@solana/spl-token\";\nimport { MoneyRounded } from \"@material-ui/icons\";\nimport { Connection } from \"@solana/web3.js\";\nimport { getMintInfo, getTokenAccount, parseTokenAccount } from \"@project-serum/common\";\nimport { useMultiSigOwnedTokenAccounts } from \"../hooks/useOwnedTokenAccounts\";\nimport { FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport { ACCOUNT_LAYOUT } from \"@project-serum/common/dist/lib/token\";\n\nexport default function Multisig({ multisig }: { multisig?: PublicKey }) {\n  return (\n    <div>\n      <Container fixed maxWidth=\"md\">\n        <div\n          style={{\n            position: \"fixed\",\n            bottom: \"75px\",\n            right: \"75px\",\n            display: \"flex\",\n            flexDirection: \"row-reverse\",\n          }}\n        >\n          <NewMultisigButton />\n        </div>\n      </Container>\n      {multisig && <MultisigInstance multisig={multisig} />}\n    </div>\n  );\n}\n\nfunction NewMultisigButton() {\n  const [open, setOpen] = useState(false);\n  return (\n    <div style={{ display: \"flex\" }}>\n      <IconButton\n        style={{\n          border: \"solid 1pt #ccc\",\n          width: \"60px\",\n          height: \"60px\",\n          borderRadius: \"30px\",\n        }}\n        onClick={() => setOpen(true)}\n      >\n        <AddIcon />\n      </IconButton>\n      <NewMultisigDialog open={open} onClose={() => setOpen(false)} />\n    </div>\n  );\n}\n\nexport function MultisigInstance({ multisig }: { multisig: PublicKey }) {\n  const multisigClient = useMultisigProgram();\n  const [multisigAccount, setMultisigAccount] = useState<any>(undefined);\n  const [transactions, setTransactions] = useState<any>(null);\n  const [showSignerDialog, setShowSignerDialog] = useState(false);\n  const [showAddTransactionDialog, setShowAddTransactionDialog] = useState(\n    false\n  );\n  const [forceRefresh, setForceRefresh] = useState(false);\n  useEffect(() => {\n    multisigClient.account\n      .multisig.fetch(multisig)\n      .then((account: any) => {\n        setMultisigAccount(account);\n      })\n      .catch((err: any) => {\n        console.error(err);\n        setMultisigAccount(null);\n      });\n  }, [multisig, multisigClient.account]);\n  useEffect(() => {\n    multisigClient.account.transaction.all(multisig.toBuffer()).then((txs) => {\n      setTransactions(txs);\n    });\n  }, [multisigClient.account.transaction, multisig, forceRefresh]);\n  useEffect(() => {\n    multisigClient.account.multisig\n      .subscribe(multisig)\n      .on(\"change\", (account) => {\n        setMultisigAccount(account);\n      });\n  }, [multisigClient, multisig]);\n  return (\n    <Container fixed maxWidth=\"md\" style={{ marginBottom: \"16px\" }}>\n      <div>\n        <Card style={{ marginTop: \"24px\" }}>\n          {multisigAccount === undefined ? (\n            <div style={{ padding: \"16px\" }}>\n              <CircularProgress\n                style={{\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                }}\n              />\n            </div>\n          ) : multisigAccount === null ? (\n            <CardContent>\n              <Typography\n                color=\"textSecondary\"\n                style={{\n                  padding: \"24px\",\n                  textAlign: \"center\",\n                }}\n              >\n                Multisig not found\n              </Typography>\n            </CardContent>\n          ) : (\n            <></>\n          )}\n        </Card>\n        {multisigAccount && (\n          <Paper>\n            <AppBar\n              style={{ marginTop: \"24px\" }}\n              position=\"static\"\n              color=\"default\"\n              elevation={1}\n            >\n              <Toolbar>\n                <Typography variant=\"h6\" style={{ flexGrow: 1 }} component=\"h2\">\n                  {multisig.toString()} | {multisigAccount.threshold.toString()}{\" \"}\n                  of {multisigAccount.owners.length.toString()} Multisig\n                </Typography>\n                <Tooltip title=\"Signer\" arrow>\n                  <IconButton onClick={() => setShowSignerDialog(true)}>\n                    <InfoIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Add\" arrow>\n                  <IconButton onClick={() => setShowAddTransactionDialog(true)}>\n                    <AddIcon />\n                  </IconButton>\n                </Tooltip>\n              </Toolbar>\n            </AppBar>\n            <List disablePadding>\n              {transactions === null ? (\n                <div style={{ padding: \"16px\" }}>\n                  <CircularProgress\n                    style={{\n                      display: \"block\",\n                      marginLeft: \"auto\",\n                      marginRight: \"auto\",\n                    }}\n                  />\n                </div>\n              ) : transactions.length === 0 ? (\n                <ListItem>\n                  <ListItemText primary=\"No transactions found\" />\n                </ListItem>\n              ) : (\n                transactions.map((tx: any) => (\n                  <TxListItem\n                    key={tx.publicKey.toString()}\n                    multisig={multisig}\n                    multisigAccount={multisigAccount}\n                    tx={tx}\n                  />\n                ))\n              )}\n            </List>\n          </Paper>\n        )}\n      </div>\n      <AddTransactionDialog\n        multisig={multisig}\n        open={showAddTransactionDialog}\n        onClose={() => setShowAddTransactionDialog(false)}\n        didAddTransaction={() => setForceRefresh(!forceRefresh)}\n      />\n      {multisigAccount && (\n        <SignerDialog\n          key={multisigClient.provider.wallet.publicKey.toString()}\n          multisig={multisig}\n          multisigAccount={multisigAccount}\n          open={showSignerDialog}\n          onClose={() => setShowSignerDialog(false)}\n        />\n      )}\n    </Container>\n  );\n}\n\nexport function NewMultisigDialog({\n  open,\n  onClose,\n}: {\n  open: boolean;\n  onClose: () => void;\n}) {\n  const history = useHistory();\n  const multisigClient = useMultisigProgram();\n  const { enqueueSnackbar } = useSnackbar();\n  const [threshold, setThreshold] = useState(2);\n  // @ts-ignore\n  const zeroAddr = new PublicKey(\"11111111111111111111111111111111\").toString();\n  const [participants, setParticipants] = useState([zeroAddr]);\n  const _onClose = () => {\n    onClose();\n    setThreshold(2);\n    setParticipants([zeroAddr, zeroAddr]);\n  };\n  const [maxParticipantLength, setMaxParticipantLength] = useState(10);\n  const disableCreate = maxParticipantLength < participants.length;\n  const createMultisig = async () => {\n    enqueueSnackbar(\"Creating multisig\", {\n      variant: \"info\",\n    });\n    const multisig = new Account();\n    // Disc. + threshold + nonce.\n    const baseSize = 8 + 8 + 1 + 4;\n    // Add enough for 2 more participants, in case the user changes one's\n    /// mind later.\n    const fudge = 64;\n    // Can only grow the participant set by 2x the initialized value.\n    const ownerSize = maxParticipantLength * 32 + 8;\n    const multisigSize = baseSize + ownerSize + fudge;\n    const [, nonce] = await PublicKey.findProgramAddress(\n      [multisig.publicKey.toBuffer()],\n      multisigClient.programId\n    );\n    const owners = participants.map((p) => new PublicKey(p));\n    const tx = await multisigClient.rpc.createMultisig(\n      owners,\n      new BN(threshold),\n      nonce,\n      {\n        accounts: {\n          multisig: multisig.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [multisig],\n        instructions: [\n          await multisigClient.account.multisig.createInstruction(\n            multisig,\n            // @ts-ignore\n            multisigSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(`Multisig created: ${multisig.publicKey.toString()}`, {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    _onClose();\n    history.push(`/${multisig.publicKey.toString()}`);\n  };\n  return (\n    <Dialog fullWidth open={open} onClose={_onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          New Multisig\n        </Typography>\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Threshold\"\n          value={threshold}\n          type=\"number\"\n          onChange={(e) => setThreshold(parseInt(e.target.value) as number)}\n        />\n        <TextField\n          fullWidth\n          label=\"Max Number of Participants (cannot grow the owner set past this)\"\n          value={maxParticipantLength}\n          type=\"number\"\n          onChange={(e) => setMaxParticipantLength(parseInt(e.target.value) as number)}\n        />\n        {participants.map((p, idx) => (\n          <TextField\n            key={p}\n            fullWidth\n            label=\"Participant\"\n            value={p}\n            onChange={(e) => {\n              const p = [...participants];\n              p[idx] = e.target.value;\n              setParticipants(p);\n            }}\n          />\n        ))}\n        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n          <IconButton\n            onClick={() => {\n              const p = [...participants];\n              // @ts-ignore\n              p.push(new PublicKey(\"11111111111111111111111111111111\").toString());\n              setParticipants(p);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={_onClose}>Cancel</Button>\n        <Button\n          disabled={disableCreate}\n          variant=\"contained\"\n          type=\"submit\"\n          color=\"primary\"\n          onClick={() =>\n            createMultisig().catch((err) => {\n              const str = err ? err.toString() : \"\";\n              enqueueSnackbar(`Error creating multisig: ${str}`, {\n                variant: \"error\",\n              });\n            })\n          }\n        >\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction TxListItem({\n  multisig,\n  multisigAccount,\n  tx,\n}: {\n  multisig: PublicKey;\n  multisigAccount: any;\n  tx: any;\n}) {\n  const { enqueueSnackbar } = useSnackbar();\n  const multisigClient = useMultisigProgram();\n  const [open, setOpen] = useState(false);\n  const [txAccount, setTxAccount] = useState(tx.account);\n  useEffect(() => {\n    multisigClient.account.transaction\n      .subscribe(tx.publicKey)\n      .on(\"change\", (account) => {\n        setTxAccount(account);\n      });\n  }, [multisigClient, multisig, tx.publicKey]);\n  const rows = [\n    {\n      field: \"Program ID\",\n      value: txAccount.programId.toString(),\n    },\n    {\n      field: \"Did execute\",\n      value: txAccount.didExecute.toString(),\n    },\n    {\n      field: \"Instruction data\",\n      value: (\n        <code\n          style={{\n            wordBreak: \"break-word\",\n            width: \"370px\",\n            background: \"black\",\n            color: \"#ffffff\",\n            float: \"right\",\n            textAlign: \"left\",\n          }}\n        >\n          {encodeBase64(txAccount.data)}\n        </code>\n      ),\n    },\n    {\n      field: \"Multisig\",\n      value: txAccount.multisig.toString(),\n    },\n    {\n      field: \"Transaction account\",\n      value: tx.publicKey.toString(),\n    },\n    {\n      field: \"Owner set seqno\",\n      value: txAccount.ownerSetSeqno.toString(),\n    },\n  ];\n  const msAccountRows = multisigAccount.owners.map(\n    (owner: PublicKey, idx: number) => {\n      return {\n        field: owner.toString(),\n        value: txAccount.signers[idx] ? <CheckIcon /> : <RemoveIcon />,\n      };\n    }\n  );\n  const approve = async () => {\n    enqueueSnackbar(\"Approving transaction\", {\n      variant: \"info\",\n    });\n    await multisigClient.rpc.approve({\n      accounts: {\n        multisig,\n        transaction: tx.publicKey,\n        owner: multisigClient.provider.wallet.publicKey,\n      },\n    });\n    enqueueSnackbar(\"Transaction approved\", {\n      variant: \"success\",\n    });\n  };\n  const execute = async () => {\n    enqueueSnackbar(\"Executing transaction\", {\n      variant: \"info\",\n    });\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    await multisigClient.rpc.executeTransaction({\n      accounts: {\n        multisig,\n        multisigSigner,\n        transaction: tx.publicKey,\n      },\n      remainingAccounts: txAccount.accounts\n        .map((t: any) => {\n          if (t.pubkey.equals(multisigSigner)) {\n            return { ...t, isSigner: false };\n          }\n          return t;\n        })\n        .concat({\n          pubkey: txAccount.programId,\n          isWritable: false,\n          isSigner: false,\n        }),\n    });\n    enqueueSnackbar(\"Transaction executed\", {\n      variant: \"success\",\n    });\n  };\n  return (\n    <>\n      <ListItem button onClick={() => setOpen(!open)} key={tx.publicKey.toString()}>\n        <ListItemIcon>{icon(tx, multisigClient)}</ListItemIcon>\n        {ixLabel(tx, multisigClient)}\n        {txAccount.didExecute && (\n          <CheckCircleIcon style={{ marginRight: \"16px\" }} />\n        )}\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <div style={{ background: \"#ececec\", padding: \"10px\" }}>\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <Button\n              style={{ marginRight: \"10px\" }}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() =>\n                approve().catch((err) => {\n                  let errStr = \"\";\n                  if (err) {\n                    errStr = err.toString();\n                  }\n                  enqueueSnackbar(`Unable to approve transaction: ${errStr}`, {\n                    variant: \"error\",\n                  });\n                })\n              }\n            >\n              Approve\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={() =>\n                execute().catch((err) => {\n                  let errStr = \"\";\n                  if (err) {\n                    errStr = err.toString();\n                  }\n                  enqueueSnackbar(`Unable to execute transaction: ${errStr}`, {\n                    variant: \"error\",\n                  });\n                })\n              }\n            >\n              Execute\n            </Button>\n          </div>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Transaction Field</TableCell>\n                    <TableCell align=\"right\">Value</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {rows.map((r) => (\n                    <TableRow>\n                      <TableCell key={r.field}>{r.field}</TableCell>\n                      <TableCell align=\"right\" key={`${r.field}-value`}>{r.value}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Multisig Owner</TableCell>\n                    <TableCell align=\"right\">Did Sign</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {txAccount.ownerSetSeqno === multisigAccount.ownerSetSeqno &&\n                    msAccountRows.map((r: any) => (\n                      <TableRow>\n                        <TableCell>{r.field}</TableCell>\n                        <TableCell align=\"right\">{r.value}</TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n              {txAccount.ownerSetSeqno !== multisigAccount.ownerSetSeqno && (\n                <div style={{ marginTop: \"16px\" }}>\n                  <Typography\n                    color=\"textSecondary\"\n                    style={{ textAlign: \"center\" }}\n                  >\n                    The owner set has changed since this transaction was created\n                  </Typography>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CardContent>\n              <AccountsList accounts={txAccount.accounts} />\n            </CardContent>\n          </Card>\n        </div>\n      </Collapse>\n    </>\n  );\n}\n\nfunction ixLabel(tx: any, multisigClient: any) {\n  if (tx.account.programId.equals(BPF_LOADER_UPGRADEABLE_PID)) {\n    // Upgrade instruction.\n    if (tx.account.data.equals(Buffer.from([3, 0, 0, 0]))) {\n      return (\n        <ListItemText\n          primary=\"Program upgrade\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n  }\n  if (tx.account.programId.equals(multisigClient.programId)) {\n    const setThresholdSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"change_threshold\"\n    );\n    if (setThresholdSighash.equals(tx.account.data.slice(0, 8))) {\n      return (\n        <ListItemText\n          primary=\"Set threshold\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n    const setOwnersSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"set_owners\"\n    );\n    if (setOwnersSighash.equals(tx.account.data.slice(0, 8))) {\n      return (\n        <ListItemText\n          primary=\"Set owners\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n  }\n  if (tx.account.programId.equals(TOKEN_PROGRAM_ID)) {\n    const tag = tx.account.data.slice(0, 1);\n    const amountBuf = tx.account.data.slice(1, 9) as Buffer;\n    const amountParsed = u64.fromBuffer(amountBuf);\n    if (Buffer.from([3]).equals(tag)) {\n      return (\n        <ListItemText\n          primary={`Transfer ${amountParsed.toString()} Lamport Token`}\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n\n    if (Buffer.from([4]).equals(tag)) {\n      return (\n        <ListItemText\n          primary=\"Approve Token\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n\n    if (Buffer.from([7]).equals(tag)) {\n      return (\n        <ListItemText\n          primary=\"Mint Token To\"\n          secondary={tx.publicKey.toString()}\n        />\n      );\n    }\n    return (\n      <ListItemText\n        primary=\"Token Instructions\"\n        secondary={tx.publicKey.toString()}\n      />\n    );\n  }\n  if (idl.IDL_TAG.equals(tx.account.data.slice(0, 8))) {\n    return (\n      <ListItemText primary=\"Upgrade IDL\" secondary={tx.publicKey.toString()} />\n    );\n  }\n  return <ListItemText primary={tx.publicKey.toString()} />;\n}\n\nfunction AccountsList({ accounts }: { accounts: any }) {\n  return (\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell>Account</TableCell>\n          <TableCell align=\"right\">Writable</TableCell>\n          <TableCell align=\"right\">Signer</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {accounts.map((r: any) => (\n          <TableRow>\n            <TableCell>{r.pubkey.toString()}</TableCell>\n            <TableCell align=\"right\">{r.isWritable.toString()}</TableCell>\n            <TableCell align=\"right\">{r.isSigner.toString()}</TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </Table>\n  );\n}\n\nfunction SignerDialog({\n  multisig,\n  multisigAccount,\n  open,\n  onClose,\n}: {\n  multisig: PublicKey;\n  multisigAccount: any;\n  open: boolean;\n  onClose: () => void;\n}) {\n  const multisigClient = useMultisigProgram();\n  const [signer, setSigner] = useState<null | string>(null);\n  useEffect(() => {\n    PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    ).then((addrNonce) => setSigner(addrNonce[0].toString()));\n  }, [multisig, multisigClient.programId, setSigner, multisigClient]);\n  return (\n    <Dialog open={open} fullWidth onClose={onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          Multisig Info\n        </Typography>\n      </DialogTitle>\n      <DialogContent style={{ paddingBottom: \"16px\" }}>\n        <DialogContentText>\n          <b>Program derived address</b>: {signer}. This is the address one\n          should use as the authority for data governed by the multisig.\n        </DialogContentText>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Owners</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {multisigAccount.owners.map((r: any) => (\n              <TableRow key={r.toString()}>\n                <TableCell>{r.toString()}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction AddTransactionDialog({\n  multisig,\n  open,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  open: boolean;\n  onClose: () => void;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  return (\n    <Dialog open={open} fullWidth onClose={onClose} maxWidth=\"md\">\n      <DialogTitle>\n        <Typography variant=\"h4\" component=\"h2\">\n          New Transaction\n        </Typography>\n      </DialogTitle>\n      <DialogContent style={{ paddingBottom: \"16px\" }}>\n        <DialogContentText>\n          Create a new transaction to be signed by the multisig. This\n          transaction will not execute until enough owners have signed the\n          transaction.\n        </DialogContentText>\n        <List disablePadding>\n          <ProgramUpdateListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <IdlUpgradeListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <MultisigSetOwnersListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <ChangeThresholdListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n          <TransferTokenListItem\n            didAddTransaction={didAddTransaction}\n            multisig={multisig}\n            onClose={onClose}\n          />\n        </List>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction ChangeThresholdListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <GavelIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Change threshold\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <ChangeThresholdListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction ChangeThresholdListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [threshold, setThreshold] = useState(2);\n  const multisigClient = useMultisigProgram();\n  // @ts-ignore\n  const { enqueueSnackbar } = useSnackbar();\n  const changeThreshold = async () => {\n    enqueueSnackbar(\"Creating change threshold transaction\", {\n      variant: \"info\",\n    });\n    const data = changeThresholdData(multisigClient, threshold);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accounts = [\n      {\n        pubkey: multisig,\n        isWritable: true,\n        isSigner: false,\n      },\n      {\n        pubkey: multisigSigner,\n        isWritable: false,\n        isSigner: true,\n      },\n    ];\n    const transaction = new Account();\n    const txSize = 1000; // todo\n    const tx = await multisigClient.rpc.createTransaction(\n      multisigClient.programId,\n      accounts,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Threshold\"\n        value={threshold}\n        type=\"number\"\n        onChange={(e) => {\n          // @ts-ignore\n          setThreshold(e.target.value);\n        }}\n      />\n      <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n        <Button onClick={() => changeThreshold()}>Change Threshold</Button>\n      </div>\n    </div>\n  );\n}\n\nfunction MultisigSetOwnersListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <SupervisorAccountIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Set owners\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <SetOwnersListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction SetOwnersListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const multisigClient = useMultisigProgram();\n  // @ts-ignore\n  const zeroAddr = new PublicKey(\"11111111111111111111111111111111\").toString();\n  const [participants, setParticipants] = useState([zeroAddr]);\n  const { enqueueSnackbar } = useSnackbar();\n  const setOwners = async () => {\n    enqueueSnackbar(\"Creating setOwners transaction\", {\n      variant: \"info\",\n    });\n    const owners = participants.map((p) => new PublicKey(p));\n    const data = setOwnersData(multisigClient, owners);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accounts = [\n      {\n        pubkey: multisig,\n        isWritable: true,\n        isSigner: false,\n      },\n      {\n        pubkey: multisigSigner,\n        isWritable: false,\n        isSigner: true,\n      },\n    ];\n    const transaction = new Account();\n    const txSize = 5000; // TODO: tighter bound.\n    const tx = await multisigClient.rpc.createTransaction(\n      multisigClient.programId,\n      accounts,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    if (!tx) {\n      return;\n    }\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      {participants.map((p, idx) => (\n        <TextField\n          fullWidth\n          style={{ marginTop: \"16px\" }}\n          label=\"Participant\"\n          value={p}\n          onChange={(e) => {\n            const p = [...participants];\n            p[idx] = e.target.value;\n            setParticipants(p);\n          }}\n        />\n      ))}\n      <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n        <IconButton\n          onClick={() => {\n            const p = [...participants];\n            // @ts-ignore\n            p.push(new PublicKey(\"11111111111111111111111111111111\").toString());\n            setParticipants(p);\n          }}\n        >\n          <AddIcon />\n        </IconButton>\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => setOwners()}>Set Owners</Button>\n      </div>\n    </div>\n  );\n}\n\nfunction IdlUpgradeListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <DescriptionIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Upgrade IDL\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <UpgradeIdlListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction UpgradeIdlListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n\n  const [programId, setProgramId] = useState<null | string>(null);\n  const [buffer, setBuffer] = useState<null | string>(null);\n\n  const multisigClient = useMultisigProgram();\n  const { enqueueSnackbar } = useSnackbar();\n  const createTransactionAccount = async () => {\n    enqueueSnackbar(\"Creating transaction\", {\n      variant: \"info\",\n    });\n    const programAddr = new PublicKey(programId as string);\n    const bufferAddr = new PublicKey(buffer as string);\n    const idlAddr = await idlAddress(programAddr);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const data = idl.encodeInstruction({ setBuffer: {} });\n    const accs = [\n      {\n        pubkey: bufferAddr,\n        isWritable: true,\n        isSigner: false,\n      },\n      { pubkey: idlAddr, isWritable: true, isSigner: false },\n      { pubkey: multisigSigner, isWritable: true, isSigner: false },\n    ];\n    const txSize = 1000; // TODO: tighter bound.\n    const transaction = new Account();\n    const tx = await multisigClient.rpc.createTransaction(\n      programAddr,\n      accs,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Program ID\"\n        value={programId}\n        onChange={(e) => setProgramId(e.target.value as string)}\n      />\n      <TextField\n        style={{ marginTop: \"16px\" }}\n        fullWidth\n        label=\"New IDL buffer\"\n        value={buffer}\n        onChange={(e) => setBuffer(e.target.value as string)}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => createTransactionAccount()}>\n          Create upgrade\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction ProgramUpdateListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <BuildIcon />\n        </ListItemIcon>\n        <ListItemText primary={\"Upgrade program\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <UpgradeProgramListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nconst BPF_LOADER_UPGRADEABLE_PID = new PublicKey(\n  \"BPFLoaderUpgradeab1e11111111111111111111111\"\n);\n\nfunction UpgradeProgramListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [programId, setProgramId] = useState<null | string>(null);\n  const [buffer, setBuffer] = useState<null | string>(null);\n\n  const multisigClient = useMultisigProgram();\n  const { enqueueSnackbar } = useSnackbar();\n  const createTransactionAccount = async () => {\n    enqueueSnackbar(\"Creating transaction\", {\n      variant: \"info\",\n    });\n    const programAddr = new PublicKey(programId as string);\n    const bufferAddr = new PublicKey(buffer as string);\n    // Hard code serialization.\n    const data = Buffer.from([3, 0, 0, 0]);\n\n    const programAccount = await (async () => {\n      const programAccount = await multisigClient.provider.connection.getAccountInfo(\n        programAddr\n      );\n      if (programAccount === null) {\n        throw new Error(\"Invalid program ID\");\n      }\n      return {\n        // Hard code deserialization.\n        programdataAddress: new PublicKey(programAccount.data.slice(4)),\n      };\n    })();\n    const spill = multisigClient.provider.wallet.publicKey;\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const accs = [\n      {\n        pubkey: programAccount.programdataAddress,\n        isWritable: true,\n        isSigner: false,\n      },\n      { pubkey: programAddr, isWritable: true, isSigner: false },\n      { pubkey: bufferAddr, isWritable: true, isSigner: false },\n      { pubkey: spill, isWritable: true, isSigner: false },\n      { pubkey: SYSVAR_RENT_PUBKEY, isWritable: false, isSigner: false },\n      { pubkey: SYSVAR_CLOCK_PUBKEY, isWritable: false, isSigner: false },\n      { pubkey: multisigSigner, isWritable: false, isSigner: false },\n    ];\n    const txSize = 1000; // TODO: tighter bound.\n    const transaction = new Account();\n    const tx = await multisigClient.rpc.createTransaction(\n      BPF_LOADER_UPGRADEABLE_PID,\n      accs,\n      data,\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            txSize\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <TextField\n        fullWidth\n        style={{ marginTop: \"16px\" }}\n        label=\"Program ID\"\n        value={programId}\n        onChange={(e) => setProgramId(e.target.value as string)}\n      />\n      <TextField\n        style={{ marginTop: \"16px\" }}\n        fullWidth\n        label=\"New program buffer\"\n        value={buffer}\n        onChange={(e) => setBuffer(e.target.value as string)}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => createTransactionAccount()}>\n          Create upgrade\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction TransferTokenListItem({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <ListItem button onClick={() => setOpen((open) => !open)}>\n        <ListItemIcon>\n          <MoneyRounded />\n        </ListItemIcon>\n        <ListItemText primary={\"Transfer Token\"} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <TransferTokenListItemDetails\n          didAddTransaction={didAddTransaction}\n          multisig={multisig}\n          onClose={onClose}\n        />\n      </Collapse>\n    </>\n  );\n}\n\nfunction TransferTokenListItemDetails({\n  multisig,\n  onClose,\n  didAddTransaction,\n}: {\n  multisig: PublicKey;\n  onClose: Function;\n  didAddTransaction: (tx: PublicKey) => void;\n}) {\n  const [source, setSource] = useState<null | string>(null);\n  const [destination, setDestination] = useState<null | string>(null);\n  const [amount, setAmount] = useState<null | u64>(null);\n\n\n  const multisigClient = useMultisigProgram();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const tokenAccounts = useMultiSigOwnedTokenAccounts(multisigClient.provider, multisig, multisigClient.programId)\n\n  const createTransactionAccount = async () => {\n    enqueueSnackbar(\"Creating transaction\", {\n      variant: \"info\",\n    });\n    const sourceAddr = new PublicKey(source as string);\n    const destinationAddr = new PublicKey(destination as string);\n    const [multisigSigner] = await PublicKey.findProgramAddress(\n      [multisig.toBuffer()],\n      multisigClient.programId\n    );\n    const sourceTokenAccount = await getTokenAccount(\n      multisigClient.provider,\n      sourceAddr,\n    );\n\n    const destinationAccountInfo = await multisigClient.provider.connection.getAccountInfo(\n      destinationAddr\n    );\n\n    if (destinationAccountInfo === null || destinationAccountInfo.owner.toString() !== TOKEN_PROGRAM_ID.toString() || destinationAccountInfo.data.length !== ACCOUNT_LAYOUT.span) {\n      debugger\n      enqueueSnackbar(\"Not token account\", {\n        variant: \"error\",\n      });\n      return;\n    }\n\n    const destinationTokenAccount = await getTokenAccount(\n      multisigClient.provider,\n      destinationAddr\n    );\n\n    if (sourceTokenAccount.mint.toBase58() !== destinationTokenAccount.mint.toBase58()) {\n      enqueueSnackbar(\"Token mint does not match\", {\n        variant: \"error\",\n      });\n      return;\n    }\n\n    const tokenMint = await getMintInfo(\n      multisigClient.provider, sourceTokenAccount.mint);\n\n    if (!amount) {\n      enqueueSnackbar(\"No amount provided\", {\n        variant: \"warning\",\n      });\n      return;\n    }\n    const TEN = new u64(10);\n    const multiplier = TEN.pow(new BN(tokenMint.decimals));\n    const amountInLamports = amount.mul(multiplier);\n    const transferIx = Token.createTransferInstruction(\n      TOKEN_PROGRAM_ID,\n      sourceAddr,\n      destinationAddr,\n      multisigSigner,\n      [],\n      new u64(amountInLamports.toString())\n    );\n    const transaction = new Account();\n    const tx = await multisigClient.rpc.createTransaction(\n      TOKEN_PROGRAM_ID,\n      transferIx.keys,\n      Buffer.from(transferIx.data),\n      {\n        accounts: {\n          multisig,\n          transaction: transaction.publicKey,\n          proposer: multisigClient.provider.wallet.publicKey,\n          rent: SYSVAR_RENT_PUBKEY,\n        },\n        signers: [transaction],\n        instructions: [\n          await multisigClient.account.transaction.createInstruction(\n            transaction,\n            // @ts-ignore\n            1000\n          ),\n        ],\n      }\n    );\n    enqueueSnackbar(\"Transaction created\", {\n      variant: \"success\",\n      action: <ViewTransactionOnExplorerButton signature={tx} />,\n    });\n    didAddTransaction(transaction.publicKey);\n    onClose();\n  };\n\n  return (\n    <div\n      style={{\n        background: \"#f1f0f0\",\n        paddingTop: \"24px\",\n        paddingLeft: \"24px\",\n        paddingRight: \"24px\",\n      }}\n    >\n      <FormControl fullWidth>\n        <InputLabel id=\"source-select-label\">Source Token Account</InputLabel>\n        <Select\n          autoWidth={true}\n          value={source}\n        >\n          {tokenAccounts.map(\n            tokenAccount => {\n              return (\n                <MenuItem value={tokenAccount.address.toString()} onClick={\n                  () => {\n                    setSource(tokenAccount.address.toString());\n                  }\n                }>\n                  {tokenAccount.address.toString()}\n                </MenuItem>\n              )\n            }\n          )}\n        </Select>\n        <TextField\n          style={{ marginTop: \"16px\" }}\n          fullWidth\n          label=\"Amount\"\n          value={amount}\n          onChange={(e) => setAmount(new u64(e.target.value as string))}\n        />\n        <TextField\n          style={{ marginTop: \"16px\" }}\n          fullWidth\n          label=\"Destination Address\"\n          value={destination}\n          onChange={(e) => setDestination(e.target.value as string)}\n        />\n\n      </FormControl>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: \"16px\",\n          paddingBottom: \"16px\",\n        }}\n      >\n        <Button onClick={() => createTransactionAccount()}>\n          Create Token Transfer\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n// @ts-ignore\nfunction icon(tx, multisigClient) {\n  if (tx.account.programId.equals(BPF_LOADER_UPGRADEABLE_PID)) {\n    return <BuildIcon />;\n  }\n  if (tx.account.programId.equals(multisigClient.programId)) {\n    const setThresholdSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"change_threshold\"\n    );\n    if (setThresholdSighash.equals(tx.account.data.slice(0, 8))) {\n      return <GavelIcon />;\n    }\n    const setOwnersSighash = multisigClient.coder.sighash(\n      \"global\",\n      \"set_owners\"\n    );\n    if (setOwnersSighash.equals(tx.account.data.slice(0, 8))) {\n      return <SupervisorAccountIcon />;\n    }\n  }\n  if (tx.account.programId.equals(TOKEN_PROGRAM_ID)) {\n    return <MoneyRounded />\n  }\n  if (idl.IDL_TAG.equals(tx.account.data.slice(0, 8))) {\n    return <DescriptionIcon />;\n  }\n  return <ReceiptIcon />;\n}\n\n// @ts-ignore\nfunction changeThresholdData(multisigClient, threshold) {\n  return multisigClient.coder.instruction.encode(\"change_threshold\", {\n    threshold: new BN(threshold),\n  });\n}\n\n// @ts-ignore\nfunction setOwnersData(multisigClient, owners) {\n  return multisigClient.coder.instruction.encode(\"set_owners\", {\n    owners,\n  });\n}\n\n\n// Deterministic IDL address as a function of the program id.\nasync function idlAddress(programId: PublicKey): Promise<PublicKey> {\n  const base = (await PublicKey.findProgramAddress([], programId))[0];\n  return await PublicKey.createWithSeed(base, seed(), programId);\n}\n\n// Seed for generating the idlAddress.\nfunction seed(): string {\n  return \"anchor:idl\";\n}\n\nexport async function getOwnedTokenAccounts(\n  connection: Connection,\n  publicKey: PublicKey,\n): Promise<TokenAccount[]> {\n  const accounts = await connection.getProgramAccounts(\n    TOKEN_PROGRAM_ID,\n    {\n      filters: [\n        {\n          memcmp: {\n            offset: 32,\n            bytes: publicKey.toBase58(),\n          }\n        },\n        {\n          dataSize: AccountLayout.span,\n        }\n      ]\n    }\n  );\n  return (\n    accounts\n      .map(r => {\n        const tokenAccount = parseTokenAccount(r.account.data);\n        tokenAccount.address = r.pubkey;\n        return tokenAccount;\n      })\n  );\n}","import { struct, Layout } from \"buffer-layout\";\nimport { rustEnum } from \"@project-serum/borsh\";\n\n// Simplified since we only use the SetBuffer variant.\nexport type IdlInstruction =\n  | Create\n  | CreateBuffer\n  | Write\n  | SetBuffer\n  | SetAuthority;\n\ntype Create = {};\ntype CreateBuffer = {};\ntype Write = {};\ntype SetBuffer = {};\ntype SetAuthority = {};\n\nconst IDL_INSTRUCTION_LAYOUT: Layout<IdlInstruction> = rustEnum([\n  struct([], \"create\"),\n  struct([], \"createBuffer\"),\n  struct([], \"write\"),\n  struct([], \"setBuffer\"),\n  struct([], \"setAuthority\"),\n]);\n\nexport function encodeInstruction(i: IdlInstruction): Buffer {\n  const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n  const len = IDL_INSTRUCTION_LAYOUT.encode(i, buffer);\n  return Buffer.concat([IDL_TAG, buffer.slice(0, len)]);\n}\n\n// Reverse for little endian.\nexport const IDL_TAG = Buffer.from(\"0a69e9a778bcf440\", \"hex\").reverse();\n","import { Provider } from '@project-serum/anchor';\nimport { PublicKey } from '@solana/web3.js';\nimport { useEffect, useState } from 'react';\nimport { AccountInfo as TokenAccount } from \"@solana/spl-token\";\nimport { getOwnedTokenAccounts } from '../components/Multisig';\n\n\nexport function useMultiSigOwnedTokenAccounts(\n  provider: Provider,\n  multiSig: PublicKey,\n  programId: PublicKey\n): TokenAccount[] {\n  const [results, setResults] = useState<TokenAccount[]>([]);\n\n  useEffect(() => {\n    const connection = provider.connection;\n\n    const onLoad = async () => {\n      const [signer, nounce] = await PublicKey.findProgramAddress(\n        [multiSig.toBuffer()],\n        programId\n      );\n      const ownedTokenAccounts = await getOwnedTokenAccounts(connection, signer);\n      setResults(ownedTokenAccounts);\n      return ownedTokenAccounts;\n    };\n    onLoad()\n      .then(results => {\n        console.log(\n          `Fetched ${results.length} accounts for multisig ${multiSig}.`,\n        );\n      })\n      .catch(() => {\n        console.error(\n          'Connection Failed',\n          `Failed to fetch token accounts owned by ${multiSig}`,\n        );\n      });\n\n\n    return () => {\n      setResults([]);\n    };\n  }, [provider]);\n\n  return results;\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport BubbleChartIcon from \"@material-ui/icons/BubbleChart\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { useAnchorWallet } from \"@solana/wallet-adapter-react\";\nimport DisconnectIcon from '@material-ui/icons/LinkOff';\nimport { WalletDisconnectButton, WalletMultiButton } from \"@solana/wallet-adapter-material-ui\";\nimport { ENDPOINTS, useConnectionConfig } from \"../context/connection\";\n\nexport default function Header() {\n  const wallet  = useAnchorWallet();\n  const history = useHistory();\n  const [multisigAddress, setMultisigAddress] = useState(\"\");\n  const disabled = !isValidPubkey(multisigAddress);\n  const searchFn = () => {\n    history.push(`/${multisigAddress}`);\n  };\n  return (\n    <AppBar\n      position=\"static\"\n      style={{\n        background: \"#ffffff\",\n        color: \"#272727\",\n        boxShadow: \"none\",\n        borderBottom: \"solid 1pt #ccc\",\n      }}\n    >\n      <Toolbar>\n        <div\n          style={{\n            display: \"flex\",\n            width: \"100%\",\n          }}\n        >\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <BarButton label=\"Multisig\" hrefClient=\"/\" />\n            <div\n              style={{\n                marginLeft: \"16px\",\n                marginRight: \"16px\",\n                borderRadius: \"25px\",\n                display: \"flex\",\n                flex: 1,\n                backgroundColor: \"rgb(245 245 245)\",\n              }}\n            >\n              <input\n                style={{\n                  flex: 1,\n                  background: \"none\",\n                  padding: \"16px\",\n                  border: \"none\",\n                  outlineWidth: 0,\n                  color: \"inherit\",\n                }}\n                placeholder=\"Search a multisig address...\"\n                value={multisigAddress}\n                onChange={(e) => setMultisigAddress(e.target.value as string)}\n                onKeyPress={(e) => {\n                  if (e.key === \"Enter\") {\n                    searchFn();\n                  }\n                }}\n              />\n              <IconButton disabled={disabled} onClick={searchFn}>\n                <SearchIcon />\n              </IconButton>\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n            }}\n          >\n            <NetworkSelector />\n            <WalletMultiButton />\n            {wallet && <WalletDisconnectButton startIcon={<DisconnectIcon />} style={{ marginLeft: 8 }} />}\n          </div>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nfunction SerumLogoButton() {\n  const history = useHistory();\n  return (\n    <div style={{ display: \"flex\" }} onClick={() => history.push(\"/\")}>\n      <Button color=\"inherit\">\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n          }}\n        >\n          <img\n            style={{\n              display: \"block\",\n              height: \"35px\",\n            }}\n            alt=\"Logo\"\n            src=\"http://dex.projectserum.com/static/media/logo.49174c73.svg\"\n          />\n        </div>\n      </Button>\n    </div>\n  );\n}\n\ntype BarButtonProps = {\n  label: string;\n  hrefClient?: string;\n  href?: string;\n};\n\nfunction BarButton(props: BarButtonProps) {\n  const history = useHistory();\n  const { label, href, hrefClient } = props;\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n      }}\n      onClick={() => hrefClient && history.push(hrefClient)}\n    >\n      <Link\n        style={{ color: \"inherit\", textDecoration: \"none\" }}\n        href={href}\n        target=\"_blank\"\n      >\n        <Button color=\"inherit\">\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Typography style={{ fontSize: \"15px\" }}>{label}</Typography>\n          </div>\n        </Button>\n      </Link>\n    </div>\n  );\n}\n\nfunction NetworkSelector() {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const {env, setEndpoint} = useConnectionConfig();\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div\n      style={{\n        marginRight: \"10px\",\n        fontSize: \"15px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Button\n        color=\"inherit\"\n        onClick={(e) =>\n          setAnchorEl(\n            // @ts-ignore\n            e.currentTarget\n          )\n        }\n      >\n        <BubbleChartIcon />\n        <Typography style={{ marginLeft: \"5px\", fontSize: \"15px\" }}>\n          {env.toString()}\n        </Typography>\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        style={{\n          marginLeft: \"12px\",\n          color: \"white\",\n        }}\n      >\n        {ENDPOINTS.map(endpoint => {\n          return (\n            <MenuItem\n            key={endpoint.name.toString()}\n            onClick={() => {\n              handleClose();\n              setEndpoint(endpoint.endpoint);\n            }}\n          >\n            <Typography>{endpoint.name}</Typography>\n          </MenuItem>\n          )\n        })}\n      </Menu>\n    </div>\n  );\n}\n\nfunction isValidPubkey(addr: string): boolean {\n  try {\n    new PublicKey(addr);\n    return true;\n  } catch (_) {\n    return false;\n  }\n}\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\n\nexport default function Footer() {\n  return (\n    <div\n      style={{\n        zIndex: 99,\n        position: \"fixed\",\n        width: \"100%\",\n        bottom: 0,\n        textAlign: \"center\",\n        height: \"30px\",\n        backgroundColor: \"#fbfbfb\",\n        borderTop: \"solid 1pt #ccc\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        paddingLeft: \"10px\",\n        paddingRight: \"10px\",\n      }}\n    >\n      <div style={{ marginLeft: \"auto\", marginRight: \"auto\", display: \"flex\" }}>\n        <FooterButton\n          href={\"https://github.com/project-serum/multisig\"}\n          label={\"Source\"}\n        />\n        <FooterButton\n          href={\"https://github.com/project-serum/awesome-serum\"}\n          label={\"Developer Resources\"}\n        />\n        <FooterButton\n          href={\"https://discord.com/channels/739225212658122886\"}\n          label={\"Discord\"}\n        />\n        <FooterButton href={\"https://t.me/ProjectSerum\"} label={\"Telegram\"} />\n        <FooterButton\n          href={\"https://github.com/project-serum\"}\n          label={\"GitHub\"}\n        />\n        <FooterButton\n          href={\"https://solanabeach.io/\"}\n          label={\"Solana Network\"}\n          isEnd={true}\n        />\n      </div>\n    </div>\n  );\n}\n\ntype FooterButtonProps = {\n  label: string;\n  href: string;\n  isEnd?: boolean;\n};\n\nfunction FooterButton(props: FooterButtonProps) {\n  const { label, href, isEnd } = props;\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        marginRight: isEnd ? \"\" : \"15px\",\n      }}\n    >\n      <Link href={href} target=\"_blank\" color=\"inherit\">\n        <Typography style={{ fontSize: \"14px\" }}>{label}</Typography>\n      </Link>\n    </div>\n  );\n}\n","import React, { useState, PropsWithChildren } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\ntype Props = {};\n\nexport default function Layout(props: PropsWithChildren<Props>) {\n  const [refresh, setRefresh] = useState(false);\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minHeight: \"100vh\",\n        flexDirection: \"column\",\n        backgroundColor: \"rgb(251, 251, 251)\",\n      }}\n    >\n      <div\n        style={{\n          position: \"fixed\",\n          width: \"100%\",\n          zIndex: 99,\n        }}\n      >\n        <RiskBar />\n        <Header />\n      </div>\n      <div\n        style={{\n          width: \"100%\",\n          marginTop: \"94px\",\n          flex: 1,\n          display: \"flex\",\n          marginBottom: \"30px\", // Compensates for the fixed position footer.\n        }}\n      >\n        {window.localStorage.getItem(\"consent\") ? (\n          <div style={{ width: \"100%\" }}>{props.children}</div>\n        ) : (\n          <RiskDisclosureForm\n            onConsent={() => {\n              window.localStorage.setItem(\"consent\", \"true\");\n              setRefresh(!refresh);\n            }}\n          />\n        )}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nfunction RiskBar() {\n  return (\n    <div\n      style={{\n        color: \"#fff\",\n        backgroundColor: \"rgb(39, 39, 39)\",\n        height: \"30px\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        <Typography style={{ fontSize: \"14px\" }}>\n          Multisig is unaudited software. Use at your own risk.\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\nfunction RiskDisclosureForm({ onConsent }: { onConsent: () => void }) {\n  return (\n    <div\n      style={{\n        flex: \"1\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        textAlign: \"center\",\n      }}\n    >\n      <div style={{ width: \"100%\", display: \"flex\" }}>\n        <div\n          style={{ display: \"flex\", marginLeft: \"auto\", marginRight: \"auto\" }}\n        >\n          <Typography\n            style={{ marginBottom: \"16px\", maxWidth: \"1000px\" }}\n            color=\"textSecondary\"\n            variant=\"h4\"\n          >\n            No statement or warranty is provided in relation to the utility of\n            this program, the safety of its code or its suitability for your\n            use, and by using it, you agree to bear any risk associated with\n            such potential vulnerabilities, including, but not limited to the\n            potential loss of tokens.\n          </Typography>\n        </div>\n      </div>\n      <div style={{ display: \"flex\", marginLeft: \"auto\", marginRight: \"auto\" }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={onConsent}>\n          I agree\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import { AccountInfo } from \"@solana/spl-token\";\nimport { PublicKey } from \"@solana/web3.js\";\n\nexport class TokenAccountContext {\n  private static readonly SPL_ACCOUNT_CONTEXT_EMPTY = TokenAccountContext.index(\n    [],\n  );\n\n  private readonly accounts: AccountInfo[];\n  private readonly bySplAccountId: Map<string, AccountInfo>;\n\n  private constructor(\n    accounts: AccountInfo[],\n    bySplAccountId: Map<string, AccountInfo>,\n  ) {\n    this.accounts = accounts;\n    this.bySplAccountId = bySplAccountId;\n  }\n\n  public static empty() {\n    return TokenAccountContext.SPL_ACCOUNT_CONTEXT_EMPTY;\n  }\n\n  public static index(accounts: AccountInfo[]): TokenAccountContext {\n    const bySplAccountId = new Map<string, AccountInfo>();\n    accounts.forEach(a =>\n      bySplAccountId.set(a.address.toString(), a),\n    );\n    return new TokenAccountContext(accounts, bySplAccountId);\n  }\n\n  public isReady() {\n    return this.accounts.length > 0;\n  }\n\n  public getAllTokenAccounts(): AccountInfo[] {\n    return this.accounts;\n  }\n\n  public getSplAccount(splAccountId: PublicKey): AccountInfo {\n    const result = this.findSplAccount(splAccountId);\n    if (!result) {\n      throw new Error(`No account for ${splAccountId}`);\n    }\n\n    return result;\n  }\n\n  public findSplAccount(splAccountId: PublicKey): AccountInfo | undefined {\n    const key = splAccountId.toString();\n    return this.bySplAccountId.get(key);\n  }\n\n  public getSplAccountByMintId(mintId: PublicKey): AccountInfo {\n    const result = this.findSplAccountByMintId(mintId);\n    if (!result) {\n      throw new Error(`No account for mint ${mintId}`);\n    }\n\n    return result;\n  }\n\n  public findSplAccountByMintId(mintId: PublicKey): AccountInfo | undefined {\n    const accounts = this.accounts\n      .filter(account => account.mint.equals(mintId))\n      .sort((a, b) => -a.amount.cmp(b.amount));\n    return accounts[0];\n  }\n}\n","import React, { useCallback, useContext, useMemo } from 'react';\n\nimport { GetProgramAccountsFilter } from '@solana/web3.js';\nimport { AccountInfo, AccountLayout, TOKEN_PROGRAM_ID } from '@solana/spl-token';\n\nimport { Provider } from '@project-serum/anchor';\nimport { PublicKey } from '@solana/web3.js';\nimport { TokenAccountContext } from '../models/TokenAccountContext';\nimport { useProgramSubscription } from '../hooks/useProgramSubscription';\nimport { useMultisigProgram } from '../hooks/useMultisigProgram';\nimport { KeyedAccountInfo } from '@solana/web3.js';\nimport { parseTokenAccount } from '@project-serum/common';\n\nfunction getProgramId(_provider: Provider): PublicKey {\n  return TOKEN_PROGRAM_ID;\n}\n\nfunction getFilters(provider: Provider): GetProgramAccountsFilter[] {\n  return [\n    {\n      dataSize: AccountLayout.span,\n    },\n    {\n      memcmp: {\n        offset: 32,\n        bytes: provider.wallet.publicKey.toBase58(),\n      },\n    },\n  ];\n}\n\nfunction parse(raw: KeyedAccountInfo): AccountInfo {\n  const res = parseTokenAccount(raw.accountInfo.data);\n  res.address = raw.accountId;\n  return res;\n}\n\ninterface Interface {\n  tokens: TokenAccountContext;\n  reload: () => Promise<AccountInfo[]>;\n  isLoading: boolean;\n}\n\nconst Context = React.createContext<Interface>(undefined!);\n\nexport function AccountProvider({ children = null as any }) {\n  const multisigProgram = useMultisigProgram();\n\n  const [splAccounts, reloadSplAccounts, isReloadingSplAccounts] =\n    useProgramSubscription<AccountInfo>(\n      getProgramId,\n      getFilters,\n      parse,\n      multisigProgram.provider\n    );\n\n  const tokens = useMemo(() => {\n    const result = [...splAccounts];\n    return TokenAccountContext.index(result);\n  }, [splAccounts]);\n\n  const reload = useCallback(async () => {\n    const [splAccounts] = await Promise.all([\n      reloadSplAccounts(),\n    ]);\n    const result = [...splAccounts];\n    return result;\n  }, [reloadSplAccounts]);\n\n  const isLoading = useMemo(() => {\n    return isReloadingSplAccounts;\n  }, [isReloadingSplAccounts]);\n\n  return (\n    <Context.Provider value={{ tokens, reload, isLoading }}>\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport const useTokenAccountContext = () => {\n  return useContext(Context);\n};\n","import { Provider } from '@project-serum/anchor';\nimport { KeyedAccountInfo } from '@solana/web3.js';\nimport { PublicKey } from '@solana/web3.js';\nimport { GetProgramAccountsFilter } from '@solana/web3.js';\nimport { useEffect, useState } from 'react';\n\nexport function useProgramSubscription<T>(\n  getProgramId: (context: Provider) => PublicKey,\n  getFilters: (provider: Provider) => GetProgramAccountsFilter[],\n  parse: (raw: KeyedAccountInfo) => T,\n  provider: Provider,\n): [T[], () => Promise<T[]>, boolean] {\n  const [results, setResults] = useState<T[]>([]);\n  const [reload, setReload] = useState<() => Promise<T[]>>(\n    () => () => Promise.resolve([]),\n  );\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const programId = getProgramId(provider);\n    const filters = getFilters(provider);\n    const connection = provider.connection;\n    const cache = new Map<string, T>();\n\n    if (!programId) {\n      return;\n    }\n\n    const onLoad = () => {\n      setIsLoading(true);\n      return connection\n        .getProgramAccounts(programId, { filters })\n        .then(rawAccounts => {\n          for (const raw of rawAccounts) {\n            const parsed = parse({\n              accountId: raw.pubkey,\n              accountInfo: raw.account\n            });\n            cache.set(raw.pubkey.toBase58(), parsed);\n          }\n          const values = Array.from(cache.values());\n          setResults(values);\n          return values;\n        })\n        .finally(() => setIsLoading(false));\n    };\n    setReload(() => onLoad);\n    onLoad()\n      .then(values => {\n        console.log(\n          `Fetched ${values.length} accounts for program ${programId}.`,\n        );\n      })\n      .catch(() => {\n        console.error(\n          'Connection Failed',\n          `Failed to fetch accounts for program ${programId}`,\n        );\n      });\n\n    const sub = connection.onProgramAccountChange(\n      programId,\n      info => {\n        const parsed = parse(info);\n        cache.set(info.accountId.toBase58(), parsed);\n        setResults(Array.from(cache.values()));\n      },\n      'singleGossip',\n      filters,\n    );\n\n    return () => {\n      cache.clear();\n      setResults([]);\n      setReload(() => () => Promise.resolve([]));\n\n      connection.removeProgramAccountChangeListener(sub).then(() => {\n        console.log(`Subscription ${programId} terminated.`);\n      });\n    };\n  }, [getFilters, getProgramId, parse, provider]);\n\n  return [results, reload, isLoading];\n}\n","import React, { useMemo } from \"react\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { SnackbarProvider } from \"notistack\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core/styles\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport Layout from \"./components/Layout\";\nimport Multisig from \"./components/Multisig\";\nimport { WalletDialogProvider } from \"@solana/wallet-adapter-material-ui\";\nimport { WalletProvider } from \"@solana/wallet-adapter-react\";\nimport {\n  getLedgerWallet,\n  getMathWallet,\n  getPhantomWallet,\n  getSolflareWallet,\n  getSolletWallet,\n  getSolongWallet,\n  getTorusWallet,\n} from '@solana/wallet-adapter-wallets';\nimport { ConnectionProvider } from \"./context/connection\";\nimport './App.css'\nimport { AccountProvider } from \"./context/AccountContext\";\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      background: {\n        default: \"rgb(255,255,255)\",\n      },\n    },\n    typography: {\n      fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n    },\n    overrides: {},\n  });\n  const wallets = useMemo(\n    () => [\n        getPhantomWallet(),\n        getSolflareWallet(),\n        getTorusWallet({\n            options: {\n                clientId: 'BOM5Cl7PXgE9Ylq1Z1tqzhpydY0RVr8k90QQ85N7AKI5QGSrr9iDC-3rvmy0K_hF0JfpLMiXoDhta68JwcxS1LQ',\n            },\n        }),\n        getLedgerWallet(),\n        getSolongWallet(),\n        getMathWallet(),\n        getSolletWallet(),\n    ],\n    []\n  );\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      <SnackbarProvider maxSnack={5} autoHideDuration={8000}>\n        <ConnectionProvider>\n          <WalletProvider wallets={wallets} autoConnect>\n              <WalletDialogProvider>\n                <AccountProvider>\n                  <HashRouter basename={\"/\"}>\n                        <Layout>\n                          <Route exact path=\"/\" component={MultisigPage} />\n                          <Route\n                            exact\n                            path=\"/:address\"\n                            component={MultisigInstancePage}\n                          />\n                        </Layout>\n                  </HashRouter>\n                </AccountProvider>\n              </WalletDialogProvider>\n          </WalletProvider>\n        </ConnectionProvider>\n      </SnackbarProvider>\n    </MuiThemeProvider>\n  );\n}\n\nfunction MultisigPage() {\n  const multisig = new PublicKey(\"6ExGdhoUeqzExzXWx1tW2RPojuRnfXeTRwQ7sCeEcnKy\");\n  return <Multisig multisig={multisig} />;\n}\n\nexport function MultisigInstancePage() {\n  const history = useHistory();\n  const location = useLocation();\n  const path = location.pathname.split(\"/\");\n  if (path.length !== 2) {\n    history.push(`/multisig`);\n    return <></>;\n  } else {\n    const multisig = new PublicKey(path[1]);\n    return <Multisig multisig={multisig} />;\n  }\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Idl } from \"@project-serum/anchor\";\n\nconst idl: Idl = {\n  version: \"0.0.0\",\n  name: \"multisig\",\n  instructions: [\n    {\n      name: \"createMultisig\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"rent\",\n          isMut: false,\n          isSigner: false,\n        },\n      ],\n      args: [\n        {\n          name: \"owners\",\n          type: {\n            vec: \"publicKey\",\n          },\n        },\n        {\n          name: \"threshold\",\n          type: \"u64\",\n        },\n        {\n          name: \"nonce\",\n          type: \"u8\",\n        },\n      ],\n    },\n    {\n      name: \"createTransaction\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"proposer\",\n          isMut: false,\n          isSigner: true,\n        },\n        {\n          name: \"rent\",\n          isMut: false,\n          isSigner: false,\n        },\n      ],\n      args: [\n        {\n          name: \"pid\",\n          type: \"publicKey\",\n        },\n        {\n          name: \"accs\",\n          type: {\n            vec: {\n              defined: \"TransactionAccount\",\n            },\n          },\n        },\n        {\n          name: \"data\",\n          type: \"bytes\",\n        },\n      ],\n    },\n    {\n      name: \"approve\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"owner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [],\n    },\n    {\n      name: \"setOwners\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [\n        {\n          name: \"owners\",\n          type: {\n            vec: \"publicKey\",\n          },\n        },\n      ],\n    },\n    {\n      name: \"changeThreshold\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: true,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: true,\n        },\n      ],\n      args: [\n        {\n          name: \"threshold\",\n          type: \"u64\",\n        },\n      ],\n    },\n    {\n      name: \"executeTransaction\",\n      accounts: [\n        {\n          name: \"multisig\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"multisigSigner\",\n          isMut: false,\n          isSigner: false,\n        },\n        {\n          name: \"transaction\",\n          isMut: true,\n          isSigner: false,\n        },\n      ],\n      args: [],\n    },\n  ],\n  accounts: [\n    {\n      name: \"Multisig\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"owners\",\n            type: {\n              vec: \"publicKey\",\n            },\n          },\n          {\n            name: \"threshold\",\n            type: \"u64\",\n          },\n          {\n            name: \"nonce\",\n            type: \"u8\",\n          },\n          {\n            name: \"ownerSetSeqno\",\n            type: \"u32\",\n          },\n        ],\n      },\n    },\n    {\n      name: \"Transaction\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"multisig\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"programId\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"accounts\",\n            type: {\n              vec: {\n                defined: \"TransactionAccount\",\n              },\n            },\n          },\n          {\n            name: \"data\",\n            type: \"bytes\",\n          },\n          {\n            name: \"signers\",\n            type: {\n              vec: \"bool\",\n            },\n          },\n          {\n            name: \"didExecute\",\n            type: \"bool\",\n          },\n          {\n            name: \"ownerSetSeqno\",\n            type: \"u32\",\n          },\n        ],\n      },\n    },\n  ],\n  types: [\n    {\n      name: \"TransactionAccount\",\n      type: {\n        kind: \"struct\",\n        fields: [\n          {\n            name: \"pubkey\",\n            type: \"publicKey\",\n          },\n          {\n            name: \"isSigner\",\n            type: \"bool\",\n          },\n          {\n            name: \"isWritable\",\n            type: \"bool\",\n          },\n        ],\n      },\n    },\n  ],\n  errors: [\n    {\n      code: 100,\n      name: \"InvalidOwner\",\n      msg: \"The given owner is not part of this multisig.\",\n    },\n    {\n      code: 101,\n      name: \"NotEnoughSigners\",\n      msg: \"Not enough owners signed this transaction.\",\n    },\n    {\n      code: 102,\n      name: \"TransactionAlreadySigned\",\n      msg: \"Cannot delete a transaction that has been signed by an owner.\",\n    },\n    {\n      code: 103,\n      name: \"Overflow\",\n      msg: \"Overflow when adding.\",\n    },\n    {\n      code: 104,\n      name: \"UnableToDelete\",\n      msg: \"Cannot delete a transaction the owner did not create.\",\n    },\n    {\n      code: 105,\n      name: \"AlreadyExecuted\",\n      msg: \"The given transaction has already been executed.\",\n    },\n    {\n      code: 106,\n      name: \"InvalidThreshold\",\n      msg: \"Threshold must be less than or equal to the number of owners.\",\n    },\n  ],\n};\n\nexport default idl;\n","import { Program, Provider, Wallet } from \"@project-serum/anchor\";\nimport { ConfirmOptions, Keypair } from \"@solana/web3.js\";\nimport { useAnchorWallet } from \"@solana/wallet-adapter-react\";\nimport { useMemo } from \"react\";\nimport MultisigIdl from \"../idl\";\nimport { useConnection } from \"../context/connection\";\n\nexport function useMultisigProgram(): Program {\n  const wallet = useAnchorWallet();\n  const connection = useConnection();\n\n  return useMemo(() => {\n    const opts: ConfirmOptions = {\n      preflightCommitment: \"recent\",\n      commitment: \"recent\",\n    };\n    let provider = new Provider(connection, wallet ?? new Wallet(Keypair.generate()), opts);\n\n    return new Program(MultisigIdl, \"msigmtwzgXJHj2ext4XJjCDmpbcMuufFb5cHuwg6Xdt\", provider);\n  }, [wallet, connection]);\n}\n"],"sourceRoot":""}